<?xml version="1.0" encoding="UTF-8"?>

<MappingDef type="MSF" version="1.0">
  <Options>
    <Option key="MappingComment"/>
    <Option key="MappingVersion">8.99.75.0</Option>
    <Option key="MappingAuthor"/>
    <Option key="MessageTranslatorVersion">8.1.2.1</Option>
    <Option key="RCode"/>
    <Option key="LastChangedTms">2022-08-09 at 02:27:21 IST</Option>
    <Option key="MappingDesignerVersion">8.8.1.05</Option>
  </Options>
  <Input vendorType="BB">
    <Options>
      <Option key="DecimalSeparator">.</Option>
      <Option key="TrimFields">BOTH</Option>
      <Option key="CommentMarker">#</Option>
      <Option key="NullIdentifiers">&lt;null&gt;;N.A.;N.S.;N.D.;N.A;N/A</Option>
      <Option key="BeginDataDelimiter">START-OF-DATA</Option>
      <Option key="KeyEndPos">0</Option>
      <Option key="SkipInputLines">0</Option>
      <Option key="QuotationMark"/>
      <Option key="DDLName"/>
      <Option key="EndDataDelimiter">END-OF-DATA</Option>
      <Option key="IsSingleCharDataDelimiter">TRUE</Option>
      <Option key="InputDataDelimiter">|</Option>
      <Option key="KeyBeginPos">0</Option>
      <Option key="TimeStampFormat">%Y%M%D%H%I%S.%f</Option>
      <Option key="EscapeCharacter"/>
      <Option key="MessageType"/>
      <Option key="DateTimeFormat">YYYYMMDD HHMMSS</Option>
    </Options>
    <VendorDef name="MSFDatastructure">
      <field decimals="0" desc="Undefined field placeholder 1" excludedNullIdentifiers="N" ident="SECURITIES" length="254" mandatory="false" mapable="false" match="false" multiple="false" name="SECURITIES" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Return Code" excludedNullIdentifiers="N" ident="ERROR CODE" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="ERRORCODE" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Undefined field placeholder 2" excludedNullIdentifiers="N" ident="NUM FLDS" length="254" mandatory="false" mapable="false" match="false" multiple="false" name="NUMFLDS" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Ticker" excludedNullIdentifiers="N" ident="TICKER" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="TICKER" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Exchange Code" excludedNullIdentifiers="N" ident="EXCH_CODE" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="EXCH_CODE" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Sedol1 Number" excludedNullIdentifiers="N" ident="ID_SEDOL1" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="ID_SEDOL1" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Wertpapier Number" excludedNullIdentifiers="N" ident="ID_WERTPAPIER" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="ID_WERTPAPIER" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="ISIN Number" excludedNullIdentifiers="N" ident="ID_ISIN" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="ID_ISIN" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Dutch Number" excludedNullIdentifiers="N" ident="ID_DUTCH" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="ID_DUTCH" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Valoren Number" excludedNullIdentifiers="N" ident="ID_VALOREN" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="ID_VALOREN" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="French Number" excludedNullIdentifiers="N" ident="ID_FRENCH" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="ID_FRENCH" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Belgium Number" excludedNullIdentifiers="N" ident="ID_BELGIUM" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="ID_BELGIUM" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Bloomberg Company Identifier" excludedNullIdentifiers="N" ident="ID_BB_COMPANY" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="ID_BB_COMPANY" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Security Identifier" excludedNullIdentifiers="N" ident="ID_BB_SECURITY" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="ID_BB_SECURITY" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Cusip Number" excludedNullIdentifiers="N" ident="ID_CUSIP" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="ID_CUSIP" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Common Number" excludedNullIdentifiers="N" ident="ID_COMMON" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="ID_COMMON" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="52 Week High" excludedNullIdentifiers="N" ident="HIGH_52WEEK" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="HIGH_52WEEK" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="52 Week Low" excludedNullIdentifiers="N" ident="LOW_52WEEK" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="LOW_52WEEK" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="52 Week High Date" excludedNullIdentifiers="N" ident="HIGH_DT_52WEEK" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="HIGH_DT_52WEEK" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="52 Week Low Date" excludedNullIdentifiers="N" ident="LOW_DT_52WEEK" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="LOW_DT_52WEEK" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Bid Price" excludedNullIdentifiers="N" ident="PX_BID" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="PX_BID" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Mid Price" excludedNullIdentifiers="N" ident="PX_MID" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="PX_MID" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Ask Price" excludedNullIdentifiers="N" ident="PX_ASK" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="PX_ASK" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Open Price" excludedNullIdentifiers="N" ident="PX_OPEN" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="PX_OPEN" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="High Price" excludedNullIdentifiers="N" ident="PX_HIGH" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="PX_HIGH" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Low Price" excludedNullIdentifiers="N" ident="PX_LOW" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="PX_LOW" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Last Price" excludedNullIdentifiers="N" ident="PX_LAST" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="PX_LAST" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Fixing Price" excludedNullIdentifiers="N" ident="PX_FIXING" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="PX_FIXING" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Volume" excludedNullIdentifiers="N" ident="PX_VOLUME" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="PX_VOLUME" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Pricing Source" excludedNullIdentifiers="N" ident="PRICING_SOURCE" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="PRICING_SOURCE" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Time/Date of Last Update" excludedNullIdentifiers="N" ident="LAST_UPDATE" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="LAST_UPDATE" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Beta" excludedNullIdentifiers="N" ident="EQY_BETA" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="EQY_BETA" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Current Market Cap" excludedNullIdentifiers="N" ident="CUR_MKT_CAP" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="CUR_MKT_CAP" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Current Shares Outstanding" excludedNullIdentifiers="N" ident="EQY_SH_OUT" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="EQY_SH_OUT" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Currency" excludedNullIdentifiers="N" ident="CRNCY" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="CRNCY" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Local Identifier" excludedNullIdentifiers="N" ident="ID_LOCAL" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="ID_LOCAL" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Quote Lot Size" excludedNullIdentifiers="N" ident="PX_QUOTE_LOT_SIZE" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="PX_QUOTE_LOT_SIZE" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Last Update Date Exchange Timezone" excludedNullIdentifiers="N" ident="LAST_UPDATE_DT_EXCH_TZ" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="LAST_UPDATE_DT_EXCH_TZ" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Primary Exchange Name" excludedNullIdentifiers="N" ident="EQY_PRIM_EXCH" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="EQY_PRIM_EXCH" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Primary Exchange Code" excludedNullIdentifiers="N" ident="EQY_PRIM_EXCH_SHRT" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="EQY_PRIM_EXCH_SHRT" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Security Type" excludedNullIdentifiers="N" ident="SECURITY_TYP" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="SECURITY_TYP" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Name" excludedNullIdentifiers="N" ident="NAME" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="NAME" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Equity Primary Security Flag" excludedNullIdentifiers="N" ident="ID_BB_PRIM_SECURITY_FLAG" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="ID_BB_PRIM_SECURITY_FLAG" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Primary Security Composite Exchange Code" excludedNullIdentifiers="N" ident="EQY_PRIM_SECURITY_COMP_EXCH" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="EQY_PRIM_SECURITY_COMP_EXCH" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Market Status" excludedNullIdentifiers="N" ident="MARKET_STATUS" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="MARKET_STATUS" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Equity Float" excludedNullIdentifiers="N" ident="EQY_FLOAT" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="EQY_FLOAT" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Dividend Indicated Yld - Gross" excludedNullIdentifiers="N" ident="EQY_DVD_YLD_IND" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="EQY_DVD_YLD_IND" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Dividend 12 Month Yld - Gross" excludedNullIdentifiers="N" ident="EQY_DVD_YLD_12M" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="EQY_DVD_YLD_12M" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Dividend 12 Month Yld - Net" excludedNullIdentifiers="N" ident="EQY_DVD_YLD_12M_NET" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="EQY_DVD_YLD_12M_NET" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Unique Identifier" excludedNullIdentifiers="N" ident="ID_BB_UNIQUE" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="ID_BB_UNIQUE" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Market Sector Description" excludedNullIdentifiers="N" ident="MARKET_SECTOR_DES" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="MARKET_SECTOR_DES" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="ISO Country of Issue" excludedNullIdentifiers="N" ident="CNTRY_ISSUE_ISO" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="CNTRY_ISSUE_ISO" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Round Lot Size" excludedNullIdentifiers="N" ident="PX_ROUND_LOT_SIZE" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="PX_ROUND_LOT_SIZE" pattern="" pos="0" readonly="false" type="Integer"/>
      <field decimals="0" desc="Composite Exchange Code" excludedNullIdentifiers="N" ident="COMPOSITE_EXCH_CODE" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="COMPOSITE_EXCH_CODE" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="NASDAQ Official Closing Price" excludedNullIdentifiers="N" ident="PX_NASDAQ_CLOSE" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="PX_NASDAQ_CLOSE" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Current Shares Outstanding Real Value" excludedNullIdentifiers="N" ident="EQY_SH_OUT_REAL" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="EQY_SH_OUT_REAL" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Country of Incorporation" excludedNullIdentifiers="N" ident="CNTRY_OF_INCORPORATION" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="CNTRY_OF_INCORPORATION" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Country of Domicile" excludedNullIdentifiers="N" ident="CNTRY_OF_DOMICILE" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="CNTRY_OF_DOMICILE" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Market Cap (Listed Shares)" excludedNullIdentifiers="N" ident="MKT_CAP_LISTED" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="MKT_CAP_LISTED" pattern="" pos="0" readonly="false" type="FloatingPoint"/>
      <field decimals="0" desc="Trade Lot Size" excludedNullIdentifiers="N" ident="PX_TRADE_LOT_SIZE" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="PX_TRADE_LOT_SIZE" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Sedol2 Number" excludedNullIdentifiers="N" ident="ID_SEDOL2" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="ID_SEDOL2" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="SEDOL1 ISO Country" excludedNullIdentifiers="N" ident="SEDOL1_COUNTRY_ISO" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="SEDOL1_COUNTRY_ISO" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="SEDOL2 ISO Country" excludedNullIdentifiers="N" ident="SEDOL2_COUNTRY_ISO" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="SEDOL2_COUNTRY_ISO" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Primary Exchange MIC" excludedNullIdentifiers="N" ident="ID_MIC_PRIM_EXCH" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="ID_MIC_PRIM_EXCH" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Local Exchange MIC" excludedNullIdentifiers="N" ident="ID_MIC_LOCAL_EXCH" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="ID_MIC_LOCAL_EXCH" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Ticker and Exchange Code" excludedNullIdentifiers="N" ident="TICKER_AND_EXCH_CODE" length="254" mandatory="false" mapable="true" match="false" multiple="false" name="TICKER_AND_EXCH_CODE" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Request Identifier used for Persecurity Request" excludedNullIdentifiers="N" ident="Request Identifier" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="RequestIdentifier" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Request Identifier Context Type used for Persecurity Request" excludedNullIdentifiers="N" ident="Request Context" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="RequestContext" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Local Exchange Symbol" excludedNullIdentifiers="N" ident="ID_EXCH_SYMBOL" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="ID_EXCH_SYMBOL" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Exchange Market Group" excludedNullIdentifiers="N" ident="EXCH_MKT_GRP" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="EXCH_MKT_GRP" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Exchange Sub Market Group" excludedNullIdentifiers="N" ident="EXCH_SUB_MKT_GRP" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="EXCH_SUB_MKT_GRP" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Market of Reference Info" excludedNullIdentifiers="N" ident="MKT_OF_REF_INFO" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="MKT_OF_REF_INFO" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Place of Settlement" excludedNullIdentifiers="�? ô6�?" ident="PLACE_OF_SETTLEMENT" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="PLACE_OF_SETTLEMENT" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Static Group Name" excludedNullIdentifiers="N" ident="GROUP_NAME_STATIC" length="30" mandatory="false" mapable="true" match="false" multiple="false" name="GROUP_NAME_STATIC" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Financial Instrument Global Identifier" excludedNullIdentifiers="N" ident="ID_BB_GLOBAL" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="ID_BB_GLOBAL" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Composite Financial Instrument Global Identifier" excludedNullIdentifiers="N" ident="COMPOSITE_ID_BB_GLOBAL" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="COMPOSITE_ID_BB_GLOBAL" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Security Node Id" excludedNullIdentifiers="N" ident="ID_BB_CONNECT" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="ID_BB_CONNECT" pattern="" pos="0" readonly="false" type="Integer"/>
      <field decimals="0" desc="Off And On Exchange Volume" excludedNullIdentifiers="N" ident="OFF_ON_EXCH_VOLUME" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="OFF_ON_EXCH_VOLUME" pattern="" pos="0" readonly="false" type="Integer"/>
      <field decimals="0" desc="Security ID Number With Source" excludedNullIdentifiers="N" ident="ID_BB_SEC_NUM_SRC" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="ID_BB_SEC_NUM_SRC" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Next Settlement Date" excludedNullIdentifiers="N" ident="SETTLE_DT" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="SETTLE_DT" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Security ID Number Description" excludedNullIdentifiers="N" ident="ID_BB_SEC_NUM_DES" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="ID_BB_SEC_NUM_DES" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Feed Source" excludedNullIdentifiers="N" ident="FEED_SOURCE" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="FEED_SOURCE" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Off-Exchange Volume" excludedNullIdentifiers="N" ident="PX_OFF_EXCH_VOLUME" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="PX_OFF_EXCH_VOLUME" pattern="" pos="0" readonly="false" type="Integer"/>
      <field decimals="0" desc="Trading System Identifier" excludedNullIdentifiers="N" ident="TRADING_SYSTEM_IDENTIFIER" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="TRADING_SYSTEM_IDENTIFIER" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Trading System Identifier Description" excludedNullIdentifiers="N" ident="TRADING_SYSTEM_IDENTIFIER_DES" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="TRADING_SYSTEM_IDENTIFIER_DES" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="SSE SEHK Connect Assc Financial Instr Global ID" excludedNullIdentifiers="N" ident="SSE_SEHK_CONN_ASSC_ID_BB_GBL" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="SSE_SEHK_CONN_ASSC_ID_BB_GBL" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="SSE SEHK Connect Assc Comp Financial Instr Glbl ID" excludedNullIdentifiers="N" ident="SSE_SEHK_CONN_COMP_ID_BB_GBL" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="SSE_SEHK_CONN_COMP_ID_BB_GBL" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="SZSE SEHK Connect Associated FIGI" excludedNullIdentifiers="N" ident="SZSE_SEHK_CONN_ASSC_FIGI" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="SZSE_SEHK_CONN_ASSC_FIGI" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="SZSE SEHK Connect Associated Composite FIGI" excludedNullIdentifiers="N" ident="SZSE_SEHK_CONN_ASSC_COMP_FIGI" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="SZSE_SEHK_CONN_ASSC_COMP_FIGI" pattern="" pos="0" readonly="false" type="String"/>
    </VendorDef>
    <Layout>
      <Override/>
      <record ref="MSFDatastructure"/>
    </Layout>
  </Input>
  <Output>
    <Options>
      <Option key="XmlEncoding">ISO-8859-1</Option>
      <Option key="TimeStampOutputFormat">%M-%D-%Y %H:%I:%S.%f %A</Option>
      <Option key="DateTimeOutputFormat">%Y-%M-%D-%H:%I:%S</Option>
      <Option key="OutputEncoding">UTF-8</Option>
      <Option key="DefaultEmptyNumericsToZero">FALSE</Option>
      <Option key="AddTZIndicators">true</Option>
      <Option key="AddVendorMnemonic">true</Option>
      <Option key="SendNullMacro">SET_TO_NULL</Option>
    </Options>
    <MappingFragments/>
    <OutputDef>
      <Node messageformat="GSREF" name="STREET_REF" type="message">
        <Options>
          <Option key="OutputEncoding"/>
          <Option key="AddTZIndicators">true</Option>
          <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
          <Option key="DocType">STREET_REF</Option>
        </Options>
        <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateNewClassificationValue", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (Strcmp("Y", GetRuntimeParameter("DescriptiveData")))
		if ((OneHasValue(GROUP_NAME_STATIC, EXCH_MKT_GRP, EXCH_SUB_MKT_GRP) && Strcmp(ERRORCODE, "0"))
				&& (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8201"))
			return "INCL";
		else
			return "";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateNewClassificationValue", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	return "";
else if (!OneOf("NO",
		Translate(Config_Options, true, "CreateNewClassificationValue", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateNewClassificationValue", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option against Bloomberg_DL_End_of_Day_Pricing for CreateNewClassificationValue. It is other than permitted value YES, NO and No value used in Config_option")),
			"");
else
	return "";]]></condition>
        <Node name="EVENT" type="attribute"/>
        <Node name="MESSAGECONDITION" type="attribute">
          <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateNewClassificationValue", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (Strcmp("Y", GetRuntimeParameter("DescriptiveData")))
		if ((OneHasValue(GROUP_NAME_STATIC, EXCH_MKT_GRP, EXCH_SUB_MKT_GRP) && Strcmp(ERRORCODE, "0"))
				&& (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8201"))
			return "INCL";
		else
			return "";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateNewClassificationValue", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	return "";
else if (!OneOf("NO",
		Translate(Config_Options, true, "CreateNewClassificationValue", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateNewClassificationValue", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option against Bloomberg_DL_End_of_Day_Pricing for CreateNewClassificationValue. It is other than permitted value YES, NO and No value used in Config_option")),
			"");
else
	return "";]]></expr>
        </Node>
        <Node name="MSGSET" type="attribute"/>
        <Node name="TRACE" type="attribute">
          <expr><![CDATA[return "false";]]></expr>
        </Node>
        <Node name="TRANSACTIONCODE" type="attribute"/>
        <Node name="USERID" type="attribute">
          <expr><![CDATA[return "GUEST";]]></expr>
        </Node>
        <Node name="HEADER" type="element">
          <Node name="CURRENTTIMESTAMP" type="element">
            <expr><![CDATA[return TimeStamp();]]></expr>
          </Node>
          <Node name="DATASOURCE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="LOCALE" type="element">
            <Node name="NLS" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ENU";]]></expr>
              </Node>
            </Node>
            <Node name="TIMEZONE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "GMT Standard Time";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_ID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBUNIQUE";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_TYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MAIN_ENTITY_NME" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return NAME;]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_TBL_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "INCL";]]></expr>
            </Node>
          </Node>
          <Node name="MSGCLASSIFICATION" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBEQ620";]]></expr>
            </Node>
          </Node>
          <Node name="MSGTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="REFERRINGPAGE" type="element"/>
          <Node name="USERID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBEQPX";]]></expr>
            </Node>
          </Node>
          <Node name="VENDORRECORDID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return GetRecordIdentifier();]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IndustryClassification" type="segment">
          <condition><![CDATA[if (OneHasValue(EXCH_MKT_GRP))
	return "IndustryClassification";
else
	return "";]]></condition>
          <sort order="ASC"><![CDATA[return EXCH_MKT_GRP;]]></sort>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "INCL_VALUE";]]></expr>
          </Node>
          <Node name="NESTED_ERR_LVL" type="attribute"/>
          <Node name="NESTED_ERR_TXT" type="attribute"/>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute">
            <expr><![CDATA[return "CLSF_OID:CL_VALUE";]]></expr>
          </Node>
          <Node name="TSOPTION" type="attribute">
            <expr><![CDATA[return "Y";]]></expr>
          </Node>
          <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IndustryClassification";]]></expr>
          </Node>
          <Node name="CLDESC" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CLNME" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return EXCH_MKT_GRP;]]></expr>
            </Node>
          </Node>
          <Node name="CLSETPURPTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CLSFOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CLSFSETMNEM" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "EXCHMKTGRP";]]></expr>
            </Node>
          </Node>
          <Node name="CLSFSETTBLTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CLVALUE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return EXCH_MKT_GRP;]]></expr>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INDUSCLSETID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "EXCHMKTGRP";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LEVELNUM" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PRNTCLSFOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PRNTCLVALUE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate("19000101", "YYYYMMDD");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IndustryClassification" type="segment">
          <condition><![CDATA[if (OneHasValue(EXCH_SUB_MKT_GRP))
	return "IndustryClassification";
else
	return "";]]></condition>
          <sort order="ASC"><![CDATA[return EXCH_SUB_MKT_GRP;]]></sort>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "INCL_VALUE";]]></expr>
          </Node>
          <Node name="NESTED_ERR_LVL" type="attribute"/>
          <Node name="NESTED_ERR_TXT" type="attribute"/>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute">
            <expr><![CDATA[return "CLSF_OID:CL_VALUE";]]></expr>
          </Node>
          <Node name="TSOPTION" type="attribute">
            <expr><![CDATA[return "Y";]]></expr>
          </Node>
          <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IndustryClassification";]]></expr>
          </Node>
          <Node name="CLDESC" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CLNME" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return EXCH_SUB_MKT_GRP;]]></expr>
            </Node>
          </Node>
          <Node name="CLSETPURPTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CLSFOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CLSFSETMNEM" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "EXCHSBMTGP";]]></expr>
            </Node>
          </Node>
          <Node name="CLSFSETTBLTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CLVALUE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return EXCH_SUB_MKT_GRP;]]></expr>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INDUSCLSETID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "EXCHSBMTGP";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LEVELNUM" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PRNTCLSFOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PRNTCLVALUE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate("19000101", "YYYYMMDD");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IndustryClassification" type="segment">
          <condition><![CDATA[if (OneHasValue(GROUP_NAME_STATIC))
	return "IndustryClassification";
else
	return "";]]></condition>
          <sort order="ASC"><![CDATA[return EXCH_SUB_MKT_GRP;]]></sort>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "INCL_VALUE";]]></expr>
          </Node>
          <Node name="NESTED_ERR_LVL" type="attribute"/>
          <Node name="NESTED_ERR_TXT" type="attribute"/>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute">
            <expr><![CDATA[return "CLSF_OID:CL_VALUE";]]></expr>
          </Node>
          <Node name="TSOPTION" type="attribute">
            <expr><![CDATA[return "Y";]]></expr>
          </Node>
          <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IndustryClassification";]]></expr>
          </Node>
          <Node name="CLDESC" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CLNME" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return GROUP_NAME_STATIC;]]></expr>
            </Node>
          </Node>
          <Node name="CLSETPURPTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CLSFOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CLSFSETMNEM" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "GRPNMESTAT";]]></expr>
            </Node>
          </Node>
          <Node name="CLSFSETTBLTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CLVALUE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return GROUP_NAME_STATIC;]]></expr>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INDUSCLSETID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "GRPNMESTAT";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LEVELNUM" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PRNTCLSFOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PRNTCLVALUE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate("19000101", "YYYYMMDD");]]></expr>
            </Node>
          </Node>
        </Node>
      </Node>
      <Node messageformat="GSREF" name="STREET_REF" type="message">
        <Options>
          <Option key="OutputEncoding"/>
          <Option key="AddTZIndicators">true</Option>
          <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
          <Option key="DocType">STREET_REF</Option>
        </Options>
        <condition><![CDATA[if ((OneHasValue(EQY_PRIM_EXCH_SHRT) || (OneHasValue(ID_MIC_LOCAL_EXCH) && !Strcmp(ID_MIC_LOCAL_EXCH, "XTAI")))
		&& Strcmp(MARKET_STATUS, "WHIS"))
	return "MRKT";
else
	return "";]]></condition>
        <Node name="EVENT" type="attribute"/>
        <Node name="MESSAGECONDITION" type="attribute">
          <expr><![CDATA[if ((OneHasValue(EQY_PRIM_EXCH_SHRT) || (OneHasValue(ID_MIC_LOCAL_EXCH) && !Strcmp(ID_MIC_LOCAL_EXCH, "XTAI")))
		&& Strcmp(MARKET_STATUS, "WHIS"))
	return "MRKT";
else
	return "";]]></expr>
        </Node>
        <Node name="MSGSET" type="attribute"/>
        <Node name="TRACE" type="attribute">
          <expr><![CDATA[return "false";]]></expr>
        </Node>
        <Node name="TRANSACTIONCODE" type="attribute"/>
        <Node name="USERID" type="attribute">
          <expr><![CDATA[return "GUEST";]]></expr>
        </Node>
        <Node name="HEADER" type="element">
          <Node name="CURRENTTIMESTAMP" type="element">
            <expr><![CDATA[return TimeStamp();]]></expr>
          </Node>
          <Node name="DATASOURCE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="LOCALE" type="element">
            <Node name="NLS" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ENU";]]></expr>
              </Node>
            </Node>
            <Node name="TIMEZONE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "GMT Standard Time";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_ID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBUNIQUE";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "EQSHR";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_NME" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return NAME;]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_TBL_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ISSU";]]></expr>
            </Node>
          </Node>
          <Node name="MSGCLASSIFICATION" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBEQ620";]]></expr>
            </Node>
          </Node>
          <Node name="MSGTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="REFERRINGPAGE" type="element"/>
          <Node name="USERID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBEQPX";]]></expr>
            </Node>
          </Node>
          <Node name="VENDORRECORDID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return GetRecordIdentifier();]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="FinancialMarket" type="segment">
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "REFERENCE";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute"/>
          <Node name="NESTED_ERR_LVL" type="attribute"/>
          <Node name="NESTED_ERR_TXT" type="attribute"/>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "FinancialMarket";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute"/>
            <Node name="NESTED_ERR_TXT" type="attribute"/>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute"/>
            <Node name="NESTED_ERR_TXT" type="attribute"/>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_MIC_LOCAL_EXCH;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "MIC";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="WHENISSUEDIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(MARKET_STATUS, "WHIS"))
	return "Y";
else
	return "";]]></expr>
            </Node>
          </Node>
        </Node>
      </Node>
      <Node messageformat="GSREF" name="STREET_REF" type="message">
        <Options>
          <Option key="OutputEncoding"/>
          <Option key="AddTZIndicators">true</Option>
          <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
          <Option key="DocType">STREET_REF</Option>
        </Options>
        <condition><![CDATA[if (Strcmp("Y", GetRuntimeParameter("DescriptiveData")))
	if (Strcmp(ERRORCODE, "0"))
		return "STREET_REF";
	else
		return "";
else
	return "";]]></condition>
        <Node name="EVENT" type="attribute"/>
        <Node name="MESSAGECONDITION" type="attribute">
          <expr><![CDATA[if (Strcmp("Y", GetRuntimeParameter("DescriptiveData")))
	if (Strcmp(ERRORCODE, "0"))
		return "STREET_REF";
	else
		return "";
else
	return "";]]></expr>
        </Node>
        <Node name="MSGSET" type="attribute"/>
        <Node name="TRACE" type="attribute">
          <expr><![CDATA[return "false";]]></expr>
        </Node>
        <Node name="TRANSACTIONCODE" type="attribute"/>
        <Node name="USERID" type="attribute">
          <expr><![CDATA[return "GUEST";]]></expr>
        </Node>
        <Node name="HEADER" type="element">
          <Node name="CURRENTTIMESTAMP" type="element">
            <expr><![CDATA[return TimeStamp();]]></expr>
          </Node>
          <Node name="DATASOURCE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="LOCALE" type="element">
            <Node name="NLS" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ENU";]]></expr>
              </Node>
            </Node>
            <Node name="TIMEZONE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "GMT Standard Time";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_ID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBUNIQUE";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "EQSHR";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_NME" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return NAME;]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_TBL_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ISSU";]]></expr>
            </Node>
          </Node>
          <Node name="MSGCLASSIFICATION" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBEQPX";]]></expr>
            </Node>
          </Node>
          <Node name="MSGTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="REFERRINGPAGE" type="element"/>
          <Node name="USERID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBEQPX";]]></expr>
            </Node>
          </Node>
          <Node name="VENDORRECORDID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return GetRecordIdentifier();]]></expr>
            </Node>
          </Node>
        </Node>
        <Execute>
          <expr><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8401")
		|| ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") <= "8311") && Strcmp(Translate(Config_Options,
				true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"), "NO")))
	if ((!OneHasValue(SEDOL1_COUNTRY_ISO) && OneHasValue(ID_MIC_LOCAL_EXCH)) && OneHasValue(ID_SEDOL1))
		return ThrowMapWarning(
				"There is no value coming in SEDOL1_COUNTRY_ISO,whereas ID_MIC_LOCAL_EXCH is getting populated", "");
	else if (((!OneHasValue(SEDOL1_COUNTRY_ISO) && !OneHasValue(ID_MIC_LOCAL_EXCH)) && OneHasValue(ID_MIC_PRIM_EXCH))
			&& OneHasValue(ID_SEDOL1))
		return ThrowMapWarning(
				"There is no value coming in SEDOL1_COUNTRY_ISO,whereas ID_MIC_PRIM_EXCH is getting populated", "");
	else if ((((((!OneHasValue(SEDOL1_COUNTRY_ISO) && !OneHasValue(ID_MIC_LOCAL_EXCH))
			&& !OneHasValue(ID_MIC_PRIM_EXCH)) && OneHasValue(EXCH_CODE)) && !Strcmp(EXCH_CODE, "UNKNOWN"))
			&& !Strcmp(EXCH_CODE, "NOT LISTED")) && OneHasValue(ID_SEDOL1))
		return ThrowMapWarning("There is no value coming in SEDOL1_COUNTRY_ISO,whereas EXCH_CODE is getting populated",
				"");
	else
		return "";
else if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") <= "8311") && Strcmp(
		Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES"))
	return "";
else if (!StrContainsOneOf(
		Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(Strcat(
			Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
			Strcat("--",
					"Wrong value in Config_Option against Create_SEDOL_at_Country_Level. It is other than permitted value YES and NO used in Config_option")),
			"");
else
	return "";]]></expr>
        </Execute>
        <Node name="Issue" type="segment">
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateNewSecurity", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	return "UNKNOWN";
else if (Strcmp(Translate(Config_Options, true, "CreateNewSecurity", "Bloomberg_DL_End_of_Day_Pricing"), "NO"))
	return "REFERENCE";
else if (!OneHasValue(Translate(Config_Options, true, "CreateNewSecurity", "Bloomberg_DL_End_of_Day_Pricing")))
	return "REFERENCE";
else if (Strcmp(Translate(Config_Options, true, "CreateNewSecurity", "Bloomberg_DL_End_of_Day_Pricing"), "NO_SILENT"))
	return "REFERENCE";
else if (!StrContainsOneOf(Translate(Config_Options, true, "CreateNewSecurity", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO", "NO_SILENT"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateNewSecurity", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateNewSecurity. It is other than permitted value YES, NO, No value and NO_SILENT used in Config_option.xml")),
			"");
else
	return "";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute">
            <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateNewSecurity", "Bloomberg_DL_End_of_Day_Pricing"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "Issue";]]></expr>
          </Node>
          <Node name="IssuerIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "IRID1_IDCTXT_ISSR_ID";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssuerIdentifier";]]></expr>
            </Node>
            <Node name="ISSRID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_COMPANY;]]></expr>
              </Node>
            </Node>
            <Node name="ISSRIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBCMPYID";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="ACCESSAUTHTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PUBLIC";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="DENOMCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DISTRIBUTIONCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BLOOMBERG_CURRENCY_CODE", CRNCY)))
		return Translate(BloombergETT, true, "BLOOMBERG_CURRENCY_CODE", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="ISSACTVYSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ISSALPHSRCHTXT" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[if (OneHasValue(SECURITY_TYP))
	return "YES";
else
	return "";]]></expr>
            </Node>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(SECURITY_TYP))
	return SECURITY_TYP;
else
	return "MISC";]]></expr>
            </Node>
          </Node>
          <Node name="NOMVALUNITCAMT" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PREFISSDESC" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return NAME;]]></expr>
            </Node>
          </Node>
          <Node name="PREFISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PREFISSNME" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return StrRightCut(NAME, 40);]]></expr>
            </Node>
          </Node>
          <Node name="WHENISSUEDIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(MARKET_STATUS, "WHIS"))
	return "Y";
else
	return SetSendNullFlag("");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <comment><![CDATA[GT 32585]]></comment>
          <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, EQY_PRIM_EXCH_SHRT, ID_BB_COMPANY, ID_BB_SECURITY))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UPDATE";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute">
            <expr><![CDATA[return "N";]]></expr>
          </Node>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBCMPSEC";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return Strcat(ID_BB_COMPANY, Strcat("-", ID_BB_SECURITY));]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBCMPSEC";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Strcat(ID_BB_COMPANY, Strcat("-", ID_BB_SECURITY));]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <comment><![CDATA[GT-156535]]></comment>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, EQY_PRIM_EXCH_SHRT, ID_BB_COMPANY, ID_BB_SECURITY))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <comment><![CDATA[GT-156535]]></comment>
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBCMPSEC";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Strcat(ID_BB_COMPANY, Strcat("-", ID_BB_SECURITY));]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <comment><![CDATA[GT-156535]]></comment>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (!OneHasValue(EQY_PRIM_EXCH_SHRT) && AllHaveValue(ID_BB_UNIQUE, ID_BB_COMPANY, ID_BB_SECURITY))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <comment><![CDATA[GT-156535]]></comment>
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBCMPSEC";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return Strcat(ID_BB_COMPANY, Strcat("-", ID_BB_SECURITY));]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBCMPSEC";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Strcat(ID_BB_COMPANY, Strcat("-", ID_BB_SECURITY));]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <comment><![CDATA[GT-156535]]></comment>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <comment><![CDATA[GT 32585]]></comment>
          <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UPDATE";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute">
            <expr><![CDATA[return "N";]]></expr>
          </Node>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBUNIQUE";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_MIC_LOCAL_EXCH))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|MIC|MKTID|", Strcat(ID_MIC_LOCAL_EXCH, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_MIC_LOCAL_EXCH;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "MIC";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBUNIQUE";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_MIC_LOCAL_EXCH))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|MIC|MKTID|", Strcat(ID_MIC_LOCAL_EXCH, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_MIC_LOCAL_EXCH;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "MIC";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBUNIQUE";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <comment><![CDATA[GT170556]]></comment>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (!OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBUNIQUE";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBUNIQUE";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <comment><![CDATA[GT170556]]></comment>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <comment><![CDATA[WHERE NEITHER MIC AND EXCH IS PRESENT]]></comment>
          <condition><![CDATA[if (OneHasValue(ID_BB_GLOBAL) && !OneHasValue(EXCH_CODE))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute">
            <expr><![CDATA[return "N";]]></expr>
          </Node>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBGLOBAL";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBGLOBAL";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <comment><![CDATA[when Exchange is PRESENT

GT 87561



[SSE_SEHK_CONN_ASSC_ID_BB_GBL] setup with CG/ HK]]></comment>
          <condition><![CDATA[if (((Strcmp(EXCH_CODE, "H1") || Strcmp(EXCH_CODE, "C1")) && OneHasValue(SSE_SEHK_CONN_ASSC_ID_BB_GBL))
		&& !Strcmp(SSE_SEHK_CONN_ASSC_ID_BB_GBL, SSE_SEHK_CONN_COMP_ID_BB_GBL))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EXCH_CODE, "H1"))
	return "HK";
else if (Strcmp(EXCH_CODE, "C1"))
	return "CG";
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBGLOBAL";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return SSE_SEHK_CONN_ASSC_ID_BB_GBL;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return SSE_SEHK_CONN_ASSC_ID_BB_GBL;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <comment><![CDATA[[SZSE_SEHK_CONN_ASSC_FIGI] setup with CS/ HK]]></comment>
          <condition><![CDATA[if (((Strcmp(EXCH_CODE, "H2") || Strcmp(EXCH_CODE, "C2")) && OneHasValue(SZSE_SEHK_CONN_ASSC_FIGI))
		&& !Strcmp(SZSE_SEHK_CONN_ASSC_FIGI, SZSE_SEHK_CONN_ASSC_COMP_FIGI))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EXCH_CODE, "H2"))
	return "HK";
else if (Strcmp(EXCH_CODE, "C2"))
	return "CS";
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return SZSE_SEHK_CONN_ASSC_FIGI;]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBGLOBAL";]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return SZSE_SEHK_CONN_ASSC_FIGI;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <comment><![CDATA[when Exchange is PRESENT]]></comment>
          <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBGLOBAL";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute"/>
              <Node name="NESTED_ERR_TXT" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBGLOBAL";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute"/>
            <Node name="NESTED_ERR_TXT" type="attribute"/>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBGLOBAL";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueCrossReference" type="segment">
          <comment><![CDATA[when Exchange is PRESENT

GT 87561]]></comment>
          <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE)
			&& ((Strcmp(EXCH_CODE, "H1") || Strcmp(EXCH_CODE, "C1")) && OneHasValue(SSE_SEHK_CONN_ASSC_ID_BB_GBL)))
		return "IssueCrossReference";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE)
			&& ((Strcmp(EXCH_CODE, "H1") || Strcmp(EXCH_CODE, "C1")) && OneHasValue(SSE_SEHK_CONN_ASSC_ID_BB_GBL)))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueCrossReference";
			else
				return "";
		else
			return "IssueCrossReference";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueCrossReference";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RLD_ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("23|CONCTNS|NESTED|IDCTXTTYP|BBGLOBAL|ISSID|",
		Strcat(SSE_SEHK_CONN_ASSC_ID_BB_GBL, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBGLOBAL";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return SSE_SEHK_CONN_ASSC_ID_BB_GBL;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return SSE_SEHK_CONN_ASSC_ID_BB_GBL;]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
              </Node>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISXROID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISXRRELPURPTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(EXCH_CODE, "H1"))
	return "BBGHK";
else if (Strcmp(EXCH_CODE, "C1"))
	return "BBGSE";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RLDIDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RLDISIDOID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RLDISSID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ROWSEQ" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IssueCrossReference" type="segment">
          <comment><![CDATA[GT 130040]]></comment>
          <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE)
			&& ((Strcmp(EXCH_CODE, "H2") || Strcmp(EXCH_CODE, "C2")) && OneHasValue(SZSE_SEHK_CONN_ASSC_FIGI)))
		return "IssueCrossReference";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE)
			&& ((Strcmp(EXCH_CODE, "H2") || Strcmp(EXCH_CODE, "C2")) && OneHasValue(SZSE_SEHK_CONN_ASSC_FIGI)))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueCrossReference";
			else
				return "";
		else
			return "IssueCrossReference";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueCrossReference";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RLD_ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("23|CONCTNS|NESTED|IDCTXTTYP|BBGLOBAL|ISSID|", Strcat(SZSE_SEHK_CONN_ASSC_FIGI, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBGLOBAL";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return SZSE_SEHK_CONN_ASSC_FIGI;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return SZSE_SEHK_CONN_ASSC_FIGI;]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
              </Node>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISXROID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISXRRELPURPTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(EXCH_CODE, "H2"))
	return "BBGHK";
else if (Strcmp(EXCH_CODE, "C2"))
	return "BBGSZ";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RLDIDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RLDISIDOID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RLDISSID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ROWSEQ" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <comment><![CDATA[[SSE_SEHK_CONN_COMP_ID_BB_GBL] setup with CH/ HK]]></comment>
          <condition><![CDATA[if ((Strcmp(EXCH_CODE, "H1") || Strcmp(EXCH_CODE, "C1")) && OneHasValue(SSE_SEHK_CONN_COMP_ID_BB_GBL))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (OneHasValue(Translate(BloombergETT, true, "COMPOSITE_EXCH_CODE", EXCH_CODE)))
		return "FinancialMarketIdentifier";
	else
		return "";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EXCH_CODE, "H1"))
	return "HK";
else if (Strcmp(EXCH_CODE, "C1"))
	return "CH";
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
				EXCH_CODE,
				If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing",
						"Bloomberg_DL_End_of_Day_Pricing"), "Local_Exchange"), EQY_PRIM_EXCH_SHRT, "")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EXCH_CODE, "H1"))
	return "HK";
else if (Strcmp(EXCH_CODE, "C1"))
	return "CH";
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "CPGLOBAL";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return SSE_SEHK_CONN_COMP_ID_BB_GBL;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return SSE_SEHK_CONN_COMP_ID_BB_GBL;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <comment><![CDATA[[SZSE_SEHK_CONN_ASSC_COMP_FIGI] setup with CH/ HK]]></comment>
          <condition><![CDATA[if ((Strcmp(EXCH_CODE, "H2") || Strcmp(EXCH_CODE, "C2")) && OneHasValue(SZSE_SEHK_CONN_ASSC_COMP_FIGI))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (OneHasValue(Translate(BloombergETT, true, "COMPOSITE_EXCH_CODE", EXCH_CODE)))
		return "FinancialMarketIdentifier";
	else
		return "";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EXCH_CODE, "H2"))
	return "HK";
else if (Strcmp(EXCH_CODE, "C2"))
	return "CH";
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EXCH_CODE, "H2"))
	return "HK";
else if (Strcmp(EXCH_CODE, "C2"))
	return "CH";
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "CPGLOBAL";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return SZSE_SEHK_CONN_ASSC_COMP_FIGI;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return SZSE_SEHK_CONN_ASSC_COMP_FIGI;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node displayName="CUSTOM_CPGLOBAL" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "CPGLOBAL";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node disabled="1" name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
		&& Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
		return "MBDV";
	else
		return EXCH_CODE;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "CPGLOBAL";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
		&& Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
		return "MBDV";
	else
		return EXCH_CODE;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "CPGLOBAL";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueCrossReference" type="segment">
          <comment><![CDATA[when Exchange is PRESENT

GT 87561]]></comment>
          <condition><![CDATA[if (OneHasValue(EXCH_CODE) && (OneHasValue(COMPOSITE_ID_BB_GLOBAL) && (OneHasValue(
		Translate(BloombergETT, true, "COMPOSITE_EXCH_CODE", EXCH_CODE))
		&& ((Strcmp(EXCH_CODE, "H1") || Strcmp(EXCH_CODE, "C1")) && OneHasValue(SSE_SEHK_CONN_COMP_ID_BB_GBL)))))
	return "IssueCrossReference";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueCrossReference";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RLD_ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("23|CONCTNS|NESTED|IDCTXTTYP|CPGLOBAL|ISSID|",
		Strcat(SSE_SEHK_CONN_COMP_ID_BB_GBL, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "CPGLOBAL";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return SSE_SEHK_CONN_COMP_ID_BB_GBL;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return SSE_SEHK_CONN_COMP_ID_BB_GBL;]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
              </Node>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISXROID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISXRRELPURPTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(EXCH_CODE, "H1"))
	return "BBCPGHK";
else if (Strcmp(EXCH_CODE, "C1"))
	return "BBGPGSE";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RLDIDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RLDISIDOID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RLDISSID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ROWSEQ" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IssueCrossReference" type="segment">
          <comment><![CDATA[when Exchange is PRESENT

GT 87561]]></comment>
          <condition><![CDATA[if (OneHasValue(EXCH_CODE) && (OneHasValue(COMPOSITE_ID_BB_GLOBAL) && (OneHasValue(
		Translate(BloombergETT, true, "COMPOSITE_EXCH_CODE", EXCH_CODE))
		&& ((Strcmp(EXCH_CODE, "H2") || Strcmp(EXCH_CODE, "C2")) && OneHasValue(SZSE_SEHK_CONN_ASSC_COMP_FIGI)))))
	return "IssueCrossReference";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueCrossReference";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RLD_ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("23|CONCTNS|NESTED|IDCTXTTYP|CPGLOBAL|ISSID|",
		Strcat(SZSE_SEHK_CONN_ASSC_COMP_FIGI, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "CPGLOBAL";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return SZSE_SEHK_CONN_ASSC_COMP_FIGI;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return SZSE_SEHK_CONN_ASSC_COMP_FIGI;]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
              </Node>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISXROID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISXRRELPURPTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(EXCH_CODE, "H2"))
	return "BBCPGHK";
else if (Strcmp(EXCH_CODE, "C2"))
	return "BBCPGSZ";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RLDIDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RLDISIDOID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RLDISSID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ROWSEQ" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="CUSTOM_BBCPTICK" name="IssueIdentifier" type="segment">
          <comment><![CDATA[GT 32585
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
          <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, EQY_PRIM_EXCH_SHRT, TICKER, COMPOSITE_EXCH_CODE))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UPDATE";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute">
            <expr><![CDATA[return "N";]]></expr>
          </Node>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBCPTICK";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK"]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(Strcmp(EXCH_CODE, "H2"), "HK", If(Strcmp(EXCH_CODE, "C2"), "CS", EXCH_CODE)), "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EXCH_CODE, "H2"))
	return "HK";
else if (Strcmp(EXCH_CODE, "C2"))
	return "CS";
else
	return EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBCPTICK";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node displayName="CUSTOM_BBCPTICK" name="IssueIdentifier" type="segment">
          <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
          <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, EQY_PRIM_EXCH_SHRT, TICKER, COMPOSITE_EXCH_CODE))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(Strcmp(EXCH_CODE, "H2"), "HK", If(Strcmp(EXCH_CODE, "C2"), "CS", EXCH_CODE)), "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EXCH_CODE, "H2"))
	return "HK";
else if (Strcmp(EXCH_CODE, "C2"))
	return "CS";
else
	return EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBCPTICK";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <comment><![CDATA[GT170556]]></comment>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK"]]></comment>
          <condition><![CDATA[if (!OneHasValue(EQY_PRIM_EXCH_SHRT) && AllHaveValue(COMPOSITE_EXCH_CODE, ID_BB_UNIQUE, TICKER))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBCPTICK";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBCPTICK";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK"]]></comment>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <comment><![CDATA[GT170556]]></comment>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") <= "8311") && Strcmp(
		Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES"))
	if (AllHaveValue(ID_BB_UNIQUE, ID_SEDOL1, EQY_PRIM_EXCH_SHRT))
		return "IssueIdentifier";
	else
		return "";
else if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") <= "8311") && Strcmp(
		Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	return "";
else if (!StrContainsOneOf(
		Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(Strcat(
			Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
			Strcat("--",
					"Wrong value in Config_Option against Create_SEDOL_at_Country_Level. It is other than permitted value YES and NO used in Config_option")),
			"");
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SEDOL";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_SEDOL1;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_SEDOL1;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <comment><![CDATA[GT 31597 - ISID added to capture IRISH SEDOL]]></comment>
          <condition><![CDATA[if (FieldPresent(ID_SEDOL2))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="TSATTRIBUTE" type="attribute">
            <expr><![CDATA[return "ISS_ID";]]></expr>
          </Node>
          <Node name="TSOPTION" type="attribute">
            <expr><![CDATA[return "Y";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ID";]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "IRESEDOL";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_SEDOL2;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8401")
		|| ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") <= "8311") && Strcmp(Translate(Config_Options,
				true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"), "NO")))
	if (OneHasValue(ID_SEDOL1) && OneHasValue(ID_MIC_LOCAL_EXCH))
		return "IssueIdentifier";
	else if (OneHasValue(ID_SEDOL1)
			&& ((OneHasValue(EXCH_CODE) && !Strcmp(EXCH_CODE, "NOT LISTED")) && !Strcmp(EXCH_CODE, "UNKNOWN")))
		return "IssueIdentifier";
	else if ((!OneHasValue(SEDOL1_COUNTRY_ISO) && (OneHasValue(ID_SEDOL1) && !OneHasValue(ID_MIC_LOCAL_EXCH)))
			&& ((!OneHasValue(EXCH_CODE) || Strcmp(EXCH_CODE, "UNKNOWN")) || Strcmp(EXCH_CODE, "NOT LISTED")))
		return "IssueIdentifier";
	else
		return "";
else if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") <= "8311") && Strcmp(
		Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES"))
	return "";
else if (!StrContainsOneOf(
		Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(Strcat(
			Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
			Strcat("--",
					"Wrong value in Config_Option against Create_SEDOL_at_Country_Level. It is other than permitted value YES and NO used in Config_option")),
			"");
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_SEDOL1) && OneHasValue(ID_MIC_LOCAL_EXCH))
	return "IssueIdentifier";
else if (OneHasValue(ID_SEDOL1)
		&& ((OneHasValue(EXCH_CODE) && !Strcmp(EXCH_CODE, "NOT LISTED")) && !Strcmp(EXCH_CODE, "UNKNOWN")))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(ID_MIC_LOCAL_EXCH))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute"/>
              <Node name="NESTED_ERR_TXT" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return ID_MIC_LOCAL_EXCH;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "MIC";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|",
		Strcat(If(OneHasValue(ID_MIC_LOCAL_EXCH), "MIC", If(OneHasValue(EXCH_CODE), "BBEXCH", "")), Strcat("|MKTID|",
				Strcat(If(OneHasValue(ID_MIC_LOCAL_EXCH), ID_MIC_LOCAL_EXCH, If(OneHasValue(EXCH_CODE), EXCH_CODE, "")),
						"|DATASRCID|BLOOMBERG"))));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EXCH_CODE;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SEDOL";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL1;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL1;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_SEDOL1) && OneHasValue(ID_MIC_LOCAL_EXCH))
	return "IssueIdentifier";
else if (OneHasValue(ID_SEDOL1)
		&& ((OneHasValue(EXCH_CODE) && !Strcmp(EXCH_CODE, "NOT LISTED")) && !Strcmp(EXCH_CODE, "UNKNOWN")))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|",
		Strcat("MIC", Strcat("|MKTID|", Strcat("NOT LISTED/UNKNOWN", "|DATASRCID|BLOOMBERG"))));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "XXXX";]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "MIC";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SEDOL";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL1;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL1;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SEDOL";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL1;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL1;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_SEDOL1) && OneHasValue(ID_MIC_LOCAL_EXCH))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute"/>
            <Node name="NESTED_ERR_TXT" type="attribute"/>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_MIC_LOCAL_EXCH;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "MIC";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_SEDOL1)
		&& ((OneHasValue(EXCH_CODE) && !Strcmp(EXCH_CODE, "NOT LISTED")) && !Strcmp(EXCH_CODE, "UNKNOWN")))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|",
		Strcat(If(OneHasValue(ID_MIC_LOCAL_EXCH), "MIC", If(OneHasValue(EXCH_CODE), "BBEXCH", "")), Strcat("|MKTID|",
				Strcat(If(OneHasValue(ID_MIC_LOCAL_EXCH), ID_MIC_LOCAL_EXCH, If(OneHasValue(EXCH_CODE), EXCH_CODE, "")),
						"|DATASRCID|BLOOMBERG"))));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if ((!OneHasValue(SEDOL1_COUNTRY_ISO) && (OneHasValue(ID_SEDOL1) && !OneHasValue(ID_MIC_LOCAL_EXCH)))
		&& ((!OneHasValue(EXCH_CODE) || Strcmp(EXCH_CODE, "UNKNOWN")) || Strcmp(EXCH_CODE, "NOT LISTED")))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|",
		Strcat("MIC", Strcat("|MKTID|", Strcat("NOT LISTED/UNKNOWN", "|DATASRCID|BLOOMBERG"))));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "XXXX";]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "MIC";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SEDOL";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_SEDOL1;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_SEDOL1;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8401")
		|| ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") <= "8311") && Strcmp(Translate(Config_Options,
				true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"), "NO")))
	if (OneHasValue(ID_SEDOL2) && OneHasValue(ID_MIC_LOCAL_EXCH))
		return "IssueIdentifier";
	else if (OneHasValue(ID_SEDOL2)
			&& ((OneHasValue(EXCH_CODE) && !Strcmp(EXCH_CODE, "NOT LISTED")) && !Strcmp(EXCH_CODE, "UNKNOWN")))
		return "IssueIdentifier";
	else if ((!OneHasValue(SEDOL2_COUNTRY_ISO) && (OneHasValue(ID_SEDOL2) && !OneHasValue(ID_MIC_LOCAL_EXCH)))
			&& ((!OneHasValue(EXCH_CODE) || Strcmp(EXCH_CODE, "UNKNOWN")) || Strcmp(EXCH_CODE, "NOT LISTED")))
		return "IssueIdentifier";
	else
		return "";
else if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") <= "8311") && Strcmp(
		Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES"))
	return "";
else if (!StrContainsOneOf(
		Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(Strcat(
			Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
			Strcat("--",
					"Wrong value in Config_Option against Create_SEDOL_at_Country_Level. It is other than permitted value YES and NO used in Config_option")),
			"");
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_SEDOL2) && OneHasValue(ID_MIC_LOCAL_EXCH))
	return "IssueIdentifier";
else if (OneHasValue(ID_SEDOL2)
		&& ((OneHasValue(EXCH_CODE) && !Strcmp(EXCH_CODE, "NOT LISTED")) && !Strcmp(EXCH_CODE, "UNKNOWN")))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(ID_MIC_LOCAL_EXCH))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute"/>
              <Node name="NESTED_ERR_TXT" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return ID_MIC_LOCAL_EXCH;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "MIC";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|",
		Strcat(If(OneHasValue(ID_MIC_LOCAL_EXCH), "MIC", If(OneHasValue(EXCH_CODE), "BBEXCH", "")), Strcat("|MKTID|",
				Strcat(If(OneHasValue(ID_MIC_LOCAL_EXCH), ID_MIC_LOCAL_EXCH, If(OneHasValue(EXCH_CODE), EXCH_CODE, "")),
						"|DATASRCID|BLOOMBERG"))));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EXCH_CODE;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SEDOL";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL2;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL2;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_SEDOL2) && OneHasValue(ID_MIC_LOCAL_EXCH))
	return "IssueIdentifier";
else if (OneHasValue(ID_SEDOL2)
		&& ((OneHasValue(EXCH_CODE) && !Strcmp(EXCH_CODE, "NOT LISTED")) && !Strcmp(EXCH_CODE, "UNKNOWN")))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|",
		Strcat("MIC", Strcat("|MKTID|", Strcat("NOT LISTED/UNKNOWN", "|DATASRCID|BLOOMBERG"))));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "XXXX";]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "MIC";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SEDOL";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL2;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL2;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SEDOL";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL2;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL2;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_SEDOL2) && OneHasValue(ID_MIC_LOCAL_EXCH))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute"/>
            <Node name="NESTED_ERR_TXT" type="attribute"/>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_MIC_LOCAL_EXCH;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "MIC";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_SEDOL2)
		&& ((OneHasValue(EXCH_CODE) && !Strcmp(EXCH_CODE, "NOT LISTED")) && !Strcmp(EXCH_CODE, "UNKNOWN")))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|",
		Strcat(If(OneHasValue(ID_MIC_LOCAL_EXCH), "MIC", If(OneHasValue(EXCH_CODE), "BBEXCH", "")), Strcat("|MKTID|",
				Strcat(If(OneHasValue(ID_MIC_LOCAL_EXCH), ID_MIC_LOCAL_EXCH, If(OneHasValue(EXCH_CODE), EXCH_CODE, "")),
						"|DATASRCID|BLOOMBERG"))));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if ((!OneHasValue(SEDOL2_COUNTRY_ISO) && (OneHasValue(ID_SEDOL2) && !OneHasValue(ID_MIC_LOCAL_EXCH)))
		&& ((!OneHasValue(EXCH_CODE) || Strcmp(EXCH_CODE, "UNKNOWN")) || Strcmp(EXCH_CODE, "NOT LISTED")))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|",
		Strcat("MIC", Strcat("|MKTID|", Strcat("NOT LISTED/UNKNOWN", "|DATASRCID|BLOOMBERG"))));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "XXXX";]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "MIC";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SEDOL";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_SEDOL2;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_SEDOL2;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(ID_WERTPAPIER))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="TSATTRIBUTE" type="attribute">
            <expr><![CDATA[return "ISS_ID";]]></expr>
          </Node>
          <Node name="TSOPTION" type="attribute">
            <expr><![CDATA[return "Y";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "WPK";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_WERTPAPIER;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(ID_DUTCH))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="TSATTRIBUTE" type="attribute">
            <expr><![CDATA[return "ISS_ID";]]></expr>
          </Node>
          <Node name="TSOPTION" type="attribute">
            <expr><![CDATA[return "Y";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "DUTCH";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_DUTCH;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(ID_VALOREN))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "VALOREN";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return StrReplaceAll(StrTrimLeft(StrReplaceAll(ID_VALOREN, "0", " ")), " ", "0");]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <comment><![CDATA[GT170556]]></comment>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(ID_FRENCH))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="TSATTRIBUTE" type="attribute">
            <expr><![CDATA[return "ISS_ID";]]></expr>
          </Node>
          <Node name="TSOPTION" type="attribute">
            <expr><![CDATA[return "Y";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SICOVAM";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return StrPadLeft(ID_FRENCH, 6, "0");]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(ID_BELGIUM))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="TSATTRIBUTE" type="attribute">
            <expr><![CDATA[return "ISS_ID";]]></expr>
          </Node>
          <Node name="TSOPTION" type="attribute">
            <expr><![CDATA[return "Y";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BELGIUM";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BELGIUM;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(ID_COMMON))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="TSATTRIBUTE" type="attribute">
            <expr><![CDATA[return "ISS_ID";]]></expr>
          </Node>
          <Node name="TSOPTION" type="attribute">
            <expr><![CDATA[return "Y";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "COMMON";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return StrPadLeft(ID_COMMON, 9, "0");]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(ID_LOCAL))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="TSATTRIBUTE" type="attribute">
            <expr><![CDATA[return "ISS_ID";]]></expr>
          </Node>
          <Node name="TSOPTION" type="attribute">
            <expr><![CDATA[return "Y";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "LOCAL";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_LOCAL;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(ID_CUSIP) && !IsAlpha(ID_CUSIP, 1, 1))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute">
            <expr><![CDATA[return "ISS_ID";]]></expr>
          </Node>
          <Node name="TSOPTION" type="attribute">
            <expr><![CDATA[return "Y";]]></expr>
          </Node>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "CUSIP";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_CUSIP;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(ID_ISIN))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute">
            <expr><![CDATA[return "ISS_ID";]]></expr>
          </Node>
          <Node name="TSOPTION" type="attribute">
            <expr><![CDATA[return "Y";]]></expr>
          </Node>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ISIN";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_ISIN;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node disabled="1" name="IssueIdentifier" type="segment">
          <comment><![CDATA[GT 32585]]></comment>
          <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UPDATE";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute">
            <expr><![CDATA[return "N";]]></expr>
          </Node>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "TICKER";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return TICKER;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "TICKER";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TICKER;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="WHENISSUEDIND" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node disabled="1" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT))
	return "";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID5_CTXT_ISSID_MKT";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "TICKER";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return TICKER;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "TICKER";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TICKER;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <comment><![CDATA[GT170556]]></comment>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="WHENISSUEDIND" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node disabled="1" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (!OneHasValue(EQY_PRIM_EXCH_SHRT) && AllHaveValue(ID_BB_UNIQUE, TICKER))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "TICKER";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return TICKER;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "TICKER";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TICKER;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <comment><![CDATA[GT170556]]></comment>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="WHENISSUEDIND" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node displayName="SECNMSRC" name="IssueIdentifierComment" type="segment">
          <comment><![CDATA[GT 169689- GNCM Segment added]]></comment>
          <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	if (!OneHasValue(EQY_PRIM_EXCH_SHRT) && AllHaveValue(ID_BB_UNIQUE, TICKER, ID_BB_SEC_NUM_SRC))
		return "IssueIdentifier";
	else
		return "";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute"/>
          <Node name="NESTED_ERR_LVL" type="attribute"/>
          <Node name="NESTED_ERR_TXT" type="attribute"/>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifierComment";]]></expr>
          </Node>
          <Node name="CMNTTXT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BB_SEC_NUM_SRC;]]></expr>
            </Node>
          </Node>
          <Node name="COMMREASMNEM" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SECNMSRC";]]></expr>
            </Node>
          </Node>
          <Node name="CREATEDTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate("19000101", "YYYYMMDD");]]></expr>
            </Node>
          </Node>
          <Node name="CROSSREFID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="GNCMOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="GNCMTBLTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ISID";]]></expr>
            </Node>
          </Node>
          <Node name="LNNUM" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "1";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node displayName="EQPRCOEX" name="IssueIdentifierComment" type="segment">
          <comment><![CDATA[GT 169689]]></comment>
          <condition><![CDATA[if (!OneHasValue(EQY_PRIM_EXCH_SHRT) && AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_SECURITY_COMP_EXCH))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute"/>
          <Node name="NESTED_ERR_LVL" type="attribute"/>
          <Node name="NESTED_ERR_TXT" type="attribute"/>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifierComment";]]></expr>
          </Node>
          <Node name="CMNTSTATTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="CMNTTXT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return EQY_PRIM_SECURITY_COMP_EXCH;]]></expr>
            </Node>
          </Node>
          <Node name="COMMREASMNEM" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "EQPRCOEX";]]></expr>
            </Node>
          </Node>
          <Node name="CREATEDTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate("19000101", "YYYYMMDD");]]></expr>
            </Node>
          </Node>
          <Node name="CROSSREFID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="GNCMOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="GNCMTBLTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ISID";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LNNUM" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "1";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <comment><![CDATA[GT 22625 - For persecurity requests - To create CPBBUNIQ (BBUNIQUE with EXCH_CODE)]]></comment>
          <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, COMPOSITE_EXCH_CODE))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701") && OneHasValue(COMPOSITE_EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "CPBBUNIQ";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <comment><![CDATA[GT170556]]></comment>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <comment><![CDATA[GT 22625 - For persecurity requests - To create CPTICKER (TICKER with EXCH_CODE)
but context type different from BBCPTICK
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
          <condition><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701") && OneHasValue(COMPOSITE_EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE]]]></comment>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701") && OneHasValue(COMPOSITE_EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE]]]></comment>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <comment><![CDATA[For persecurity request with TICKER and EXCH_CODE/Market Sector combination
a seperate ID Context to be used to avoid problems while referring for TICKER
in RISS]]></comment>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "CPTICKER";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <comment><![CDATA[Ticker will be requested with Exchange code/Market sector and so Request Idetifier
will have the entire info agaianst it whereas only 'TICKER' info is to be mapped
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <comment><![CDATA[For SEDOL and BBUNIQUE only this field is to be mapped
The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <comment><![CDATA[GT170556]]></comment>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <comment><![CDATA[GT 22625 - For persecurity requests - To create SEDOL with EXCH_CODE
instead of EQY_PRIM_EXCH_SHRT]]></comment>
          <condition><![CDATA[if (AllHaveValue(ID_SEDOL1, COMPOSITE_EXCH_CODE))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701") && OneHasValue(COMPOSITE_EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701") && OneHasValue(COMPOSITE_EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <comment><![CDATA[For persecurity request with TICKER and EXCH_CODE/Market Sector combination
a seperate ID Context to be used to avoid problems while referring for TICKER
in RISS]]></comment>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "CPSEDOL";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <comment><![CDATA[Ticker will be requested with Exchange code/Market sector and so Request Idetifier
will have the entire info agaianst it whereas only 'TICKER' info is to be mapped]]></comment>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_SEDOL1;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <comment><![CDATA[For SEDOL and BBUNIQUE only this field is to be mapped]]></comment>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_SEDOL1;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node disabled="1" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, ID_EXCH_SYMBOL, EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute">
            <expr><![CDATA[return "ISS_ID";]]></expr>
          </Node>
          <Node name="TSOPTION" type="attribute">
            <expr><![CDATA[return "Y";]]></expr>
          </Node>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBTRDGSYMB";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_EXCH_SYMBOL;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="WHENISSUEDIND" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="CUSTOM-BBTRDGSYM" type="segment">
          <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, ID_EXCH_SYMBOL, EXCH_CODE))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute">
            <expr><![CDATA[return "ISS_ID";]]></expr>
          </Node>
          <Node name="TSOPTION" type="attribute">
            <expr><![CDATA[return "Y";]]></expr>
          </Node>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_MIC_LOCAL_EXCH))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|MIC|MKTID|", Strcat(ID_MIC_LOCAL_EXCH, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_MIC_LOCAL_EXCH;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "MIC";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBTRDGSYMB";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_EXCH_SYMBOL;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="WHENISSUEDIND" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="CUSTOM-TICKER" type="segment">
          <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, TICKER, EXCH_CODE))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute">
            <expr><![CDATA[return "ISS_ID";]]></expr>
          </Node>
          <Node name="TSOPTION" type="attribute">
            <expr><![CDATA[return "Y";]]></expr>
          </Node>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_MIC_LOCAL_EXCH))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|MIC|MKTID|", Strcat(ID_MIC_LOCAL_EXCH, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_MIC_LOCAL_EXCH;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "MIC";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "TICKER";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TICKER;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="WHENISSUEDIND" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <comment><![CDATA[GT 60022]]></comment>
          <condition><![CDATA[if (AllHaveValue(TICKER_AND_EXCH_CODE, ID_BB_UNIQUE)
		&& !Strcmp(TICKER_AND_EXCH_CODE, Strcat(TICKER, Strcat(" ", EXCH_CODE))))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute">
              <expr><![CDATA[return "L";]]></expr>
            </Node>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBTICKEXH";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(TICKER_AND_EXCH_CODE))
	return TICKER_AND_EXCH_CODE;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (!OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute">
              <expr><![CDATA[return "L";]]></expr>
            </Node>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBTICKEXH";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(TICKER_AND_EXCH_CODE))
	return TICKER_AND_EXCH_CODE;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBTICKEXH";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(TICKER_AND_EXCH_CODE))
	return TICKER_AND_EXCH_CODE;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBTICKEXH";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(TICKER_AND_EXCH_CODE))
	return TICKER_AND_EXCH_CODE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <comment><![CDATA[GT170556]]></comment>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node displayName="CUSTOM_TICKEQPMSH" name="IssueIdentifier" type="segment">
          <comment><![CDATA[GT 32585
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
          <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, EXCH_CODE, TICKER))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UPDATE";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute">
            <expr><![CDATA[return "N";]]></expr>
          </Node>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "TICKEQPMSH";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK"]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (AllHaveValue(TICKER, EXCH_CODE))
	return Strcat(TICKER, Strcat(" ", EXCH_CODE));
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(Strcmp(EXCH_CODE, "H2"), "HK", If(Strcmp(EXCH_CODE, "C2"), "CS", EXCH_CODE)), "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EXCH_CODE, "H2"))
	return "HK";
else if (Strcmp(EXCH_CODE, "C2"))
	return "CS";
else
	return EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "TICKEQPMSH";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (AllHaveValue(TICKER, EXCH_CODE))
	return Strcat(TICKER, Strcat(" ", EXCH_CODE));
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node displayName="CUSTOM_TICKEQPMSH-2" name="IssueIdentifier" type="segment">
          <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
          <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, EXCH_CODE, TICKER))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(Strcmp(EXCH_CODE, "H2"), "HK", If(Strcmp(EXCH_CODE, "C2"), "CS", EXCH_CODE)), "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EXCH_CODE, "H2"))
	return "HK";
else if (Strcmp(EXCH_CODE, "C2"))
	return "CS";
else
	return EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "TICKEQPMSH";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (AllHaveValue(TICKER, EXCH_CODE))
	return Strcat(TICKER, Strcat(" ", EXCH_CODE));
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <comment><![CDATA[GT170556]]></comment>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node displayName="CUSTOM_BBUNQEXH" name="IssueIdentifier" type="segment">
          <comment><![CDATA[GT 32585
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
          <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, EXCH_CODE, TICKER))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UPDATE";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute">
            <expr><![CDATA[return "N";]]></expr>
          </Node>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBUNQEXH";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK"]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, EXCH_CODE))
	return Strcat(ID_BB_UNIQUE, Strcat(" ", EXCH_CODE));
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(Strcmp(EXCH_CODE, "H2"), "HK", If(Strcmp(EXCH_CODE, "C2"), "CS", EXCH_CODE)), "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EXCH_CODE, "H2"))
	return "HK";
else if (Strcmp(EXCH_CODE, "C2"))
	return "CS";
else
	return EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBUNQEXH";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, EXCH_CODE))
	return Strcat(ID_BB_UNIQUE, Strcat(" ", EXCH_CODE));
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node displayName="CUSTOM_BBUNQEXH2" name="IssueIdentifier" type="segment">
          <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
          <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, EXCH_CODE, TICKER))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(Strcmp(EXCH_CODE, "H2"), "HK", If(Strcmp(EXCH_CODE, "C2"), "CS", EXCH_CODE)), "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EXCH_CODE, "H2"))
	return "HK";
else if (Strcmp(EXCH_CODE, "C2"))
	return "CS";
else
	return EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBUNQEXH";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, EXCH_CODE))
	return Strcat(ID_BB_UNIQUE, Strcat(" ", EXCH_CODE));
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <comment><![CDATA[GT170556]]></comment>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node displayName="CUSTOM_P72BBGLOBAL" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(CNTRY_ISSUE_ISO))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_MIC_LOCAL_EXCH))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute"/>
            <Node name="NESTED_ERR_TXT" type="attribute"/>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(ID_MIC_LOCAL_EXCH))
	return ID_MIC_LOCAL_EXCH;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(ID_MIC_LOCAL_EXCH))
	return "MIC";
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "P72BBGLOBAL";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(Translate(P72BBGLOBAL, true, CNTRY_ISSUE_ISO), "composite_id_bb_global"))
	return COMPOSITE_ID_BB_GLOBAL;
else
	return ID_BB_GLOBAL;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(Translate(P72BBGLOBAL, true, CNTRY_ISSUE_ISO), "composite_id_bb_global"))
	return COMPOSITE_ID_BB_GLOBAL;
else
	return ID_BB_GLOBAL;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node displayName="SECNMSRC" name="ISSUIssueLabel" type="segment">
          <comment><![CDATA[GT 169689- Added ISLB segment for SECNMSRC.]]></comment>
          <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (OneHasValue(ID_BB_SEC_NUM_SRC))
		return "ISSUIssueLabel";
	else
		return "";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSUIssueLabel";]]></expr>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SECNMSRC";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISLBOID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BB_SEC_NUM_SRC;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ORIGDATAPROVID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PRELIMTERMPRSPCTUSIND" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="WHENDISTRIBUTEDIND" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="WHENISSUEDIND" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueDescription" type="segment">
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueDescription";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="DESCSRCETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "VENDOR";]]></expr>
            </Node>
          </Node>
          <Node name="DESCUSAGETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIMARY";]]></expr>
            </Node>
          </Node>
          <Node name="ISSDESC" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return NAME;]]></expr>
            </Node>
          </Node>
          <Node name="ISSMNEM" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return StrRightCut(UpperCase(NAME), 8);]]></expr>
            </Node>
          </Node>
          <Node name="ISSNME" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return NAME;]]></expr>
            </Node>
          </Node>
          <Node name="ISSSHRTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return NAME;]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node disabled="1" name="MarketIssueCharacteristics" type="segment">
          <condition disabled="1"><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT))
	return "MarketIssueCharacteristics";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "MKIS_MATCH_6";]]></expr>
          </Node>
          <Node name="NESTED_ERR_LVL" type="attribute"/>
          <Node name="NESTED_ERR_TXT" type="attribute"/>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "MarketIssueCharacteristics";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[return false;]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "QUAL_ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("10|CONCTNS|NESTED|IDCTXTTYP|TICKER|ISSID|",
		Strcat(TICKER, Strcat("|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"))));]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "TICKER";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return TICKER;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="GeographicUnit" type="segment">
            <condition><![CDATA[if (OneHasValue(CNTRY_ISSUE_ISO))
	return "GeographicUnit";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "GeographicUnit";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "PRNT_GU_CNT,PRNT_GU_ID,PRNT_GU_TYP";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "GU_CNT,GU_ID,GU_TYP";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat(Strcat(Strcat(Strcat("11|CONCTNS|NESTED|PRNTGUTYP|", If(StrContainsOneOf(CNTRY_ISSUE_ISO, "SNAT", "MULT", "MISC", "CHNL", "MIX"), "UNKNOWN", "COUNTRY")), "|PRNTGUID|"), If(OneHasValue(Translate(Config_Options, true, "BBGUNT", CNTRY_ISSUE_ISO)), Translate(Config_Options, true, "BBGUNT", CNTRY_ISSUE_ISO), CNTRY_ISSUE_ISO)), "|DATASRCID|BB");]]></expr>
            </Node>
            <Node name="CALID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CITYCDE" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CITYCDETYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CITYNME" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CNTRYCDE" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CNTRYSUBDIVCDE" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CNTYCDE" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CNTYCDETYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CNTYNME" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CONTINENTCDE" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CROSSREFID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CSDPERMITIND" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="GUCNT" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="GUDESC" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="GUID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="GUNME" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="GUTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="NLSCDE" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="POSTALCDE" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="PREFCURRCDE" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="PRNTGUCNT" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "1";]]></expr>
              </Node>
            </Node>
            <Node name="PRNTGUID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "BBGUNT", CNTRY_ISSUE_ISO)))
	return Translate(Config_Options, true, "BBGUNT", CNTRY_ISSUE_ISO);
else
	return CNTRY_ISSUE_ISO;]]></expr>
              </Node>
            </Node>
            <Node name="PRNTGUTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (StrContainsOneOf(CNTRY_ISSUE_ISO, "SNAT", "MULT", "MISC", "CHNL", "MIX"))
	return "UNKNOWN";
else
	return "COUNTRY";]]></expr>
              </Node>
            </Node>
            <Node name="REGIONNME" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STEPRVCDE" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STOPPAYIND" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TMZTMZ" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TOWNSHIPNME" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="ACRDINFLATREASTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DAILYENDTME" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DAILYSTARTTME" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="DAYSMTHBASTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DAYSYRBASTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="FIRSTTRDNGTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="FIXEDEXCHRATEIND" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="HDGINITMLCAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="HDGMAINTMLCAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="HOMESTOCKEXCHIND" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSPRCUNITTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSPRCUTCAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSPRCUTVOLCAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSTRDUTCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSTYPGRPOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSUQUOTESTATCDE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTTRDNGTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LOWLMTCPRC" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MIFIDAVAILSHRCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MIFIDFREEFLTSHRCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MIFIDLIQUIDSHRCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTCLSFCDE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTISSOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MRGNSECIND" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NASDAQPORTALIND" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NEWQUOTECALCMETHTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NEWQUOTEMETHEFFTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NORMMKTSZCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
            </Node>
          </Node>
          <Node name="OLDQUOTECALCMETHTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="OPTAVAILIND" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="OPTCRSSTRIKECPRC" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="OPTELIGIND" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PARITYPRICEIND" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PRCCURRCDE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(CRNCY))
	if (Strcmp(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"), "NO"))
		return CRNCY;
	else if (Strcmp(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"),
			"ISO"))
		if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
			return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
		else
			return CRNCY;
	else if (Strcmp(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"),
			"ISO_MAJOR"))
		if (OneHasValue(Translate(BloombergETT, true, "BLOOMBERG_CURRENCY_CODE", CRNCY)))
			return Translate(BloombergETT, true, "BLOOMBERG_CURRENCY_CODE", CRNCY);
		else
			return CRNCY;
	else if (!OneOf(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"), "NO",
			"ISO", "ISO_MAJOR"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_DL_End_of_Day_Pricing for Convert_To_ISO_Currency_Bloomberg_DL_End_of_Day_Pricing . It is other than permitted value NO, ISO,ISO_MAJOR and No value used in Config_option")),
				"");
	else
		return "";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="PRCMLTPLRCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PRCPARTLYPDCAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PRCUTMEASTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PIECE";]]></expr>
            </Node>
          </Node>
          <Node name="PRIMTRDMKTIND" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(MKT_OF_REF_INFO))
	return MKT_OF_REF_INFO;
else if (OneHasValue(ID_BB_PRIM_SECURITY_FLAG))
	return ID_BB_PRIM_SECURITY_FLAG;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="QUALISIDOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RNDLOTSZCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return PX_ROUND_LOT_SIZE;]]></expr>
            </Node>
          </Node>
          <Node name="SEASONEDIND" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SETTLECURRCDE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SETTLEMETHTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SPACELOWCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SPACEMEDCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SPECIALISTID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SPECINITMLCAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SPECMAINTMLCAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTISSOID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PRIMTRDMKTIND" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STLLOCMNEM" type="element">
            <comment><![CDATA[GT 155713]]></comment>
            <Node name="VALUE" type="attribute">
              <comment><![CDATA[GT 155713]]></comment>
              <expr><![CDATA[if (OneHasValue(PLACE_OF_SETTLEMENT))
	if (OneHasValue(Translate(BloombergETT, true, "SLOC_MNEM", PLACE_OF_SETTLEMENT)))
		return Translate(BloombergETT, true, "SLOC_MNEM", PLACE_OF_SETTLEMENT);
	else
		return PLACE_OF_SETTLEMENT;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="TRDNGSTATTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STLLOCTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(PLACE_OF_SETTLEMENT, "Physical"))
	return "PHYSICAL";
else if (Strcmp(PLACE_OF_SETTLEMENT, "No Dep. Org."))
	return "NODEPOSIT";
else
	return "DEPOSITORY";]]></expr>
            </Node>
          </Node>
          <Node name="TRDBOTDYNUM" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDBOTDYTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDBOTSTRTNUM" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDLOTSIZECQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return PX_TRADE_LOT_SIZE;]]></expr>
            </Node>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(CRNCY))
	if (Strcmp(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"), "NO"))
		return CRNCY;
	else if (Strcmp(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"),
			"ISO"))
		if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
			return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
		else
			return CRNCY;
	else if (Strcmp(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"),
			"ISO_MAJOR"))
		if (OneHasValue(Translate(BloombergETT, true, "BLOOMBERG_CURRENCY_CODE", CRNCY)))
			return Translate(BloombergETT, true, "BLOOMBERG_CURRENCY_CODE", CRNCY);
		else
			return CRNCY;
	else if (!OneOf(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"), "NO",
			"ISO", "ISO_MAJOR"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_DL_End_of_Day_Pricing for Convert_To_ISO_Currency_Bloomberg_DL_End_of_Day_Pricing . It is other than permitted value NO, ISO,ISO_MAJOR and No value used in Config_option")),
				"");
	else
		return "";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="TRDNGFLOORLOCID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGSTATTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return MARKET_STATUS;]]></expr>
            </Node>
          </Node>
          <Node name="TRDNGUTMEASTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SHARE";]]></expr>
            </Node>
          </Node>
          <Node name="TRDSUSPENDPRDENDTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDSUSPENDPRDSTARTTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="UPLMTCPRC" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="MarketIssueCharacteristics" type="segment">
          <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8401")
		|| ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") <= "8311") && Strcmp(Translate(Config_Options,
				true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"), "NO")))
	if (OneHasValue(ID_MIC_LOCAL_EXCH))
		return "MarketIssueCharacteristics";
	else
		return "";
else if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") <= "8311") && Strcmp(
		Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES"))
	return "";
else if (!StrContainsOneOf(
		Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(Strcat(
			Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
			Strcat("--",
					"Wrong value in Config_Option against Create_SEDOL_at_Country_Level. It is other than permitted value YES and NO used in Config_option")),
			"");
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "MKIS_MATCH_6";]]></expr>
          </Node>
          <Node name="NESTED_ERR_LVL" type="attribute"/>
          <Node name="NESTED_ERR_TXT" type="attribute"/>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "MarketIssueCharacteristics";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[return false;]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "QUAL_ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("10|CONCTNS|NESTED|IDCTXTTYP|TICKER|ISSID|",
		Strcat(TICKER, Strcat("|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"))));]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return ID_MIC_LOCAL_EXCH;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "MIC";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT) && !(Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT")))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EQY_PRIM_EXCH_SHRT;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return ID_MIC_LOCAL_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "TICKER";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return TICKER;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (AllHaveValue(ID_SEDOL1, ID_MIC_LOCAL_EXCH))
	return "";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "QUAL_ISID_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|", Strcat(If(OneHasValue(ID_MIC_LOCAL_EXCH), "MIC", ""),
		Strcat("|MKTID|", Strcat(If(OneHasValue(ID_MIC_LOCAL_EXCH), ID_MIC_LOCAL_EXCH, ""), "|DATASRCID|BLOOMBERG"))));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return ID_MIC_LOCAL_EXCH;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "MIC";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SEDOL";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL1;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL1;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_MIC_LOCAL_EXCH))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|MIC|MKTID|", Strcat(ID_MIC_LOCAL_EXCH, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_MIC_LOCAL_EXCH;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "MIC";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="GeographicUnit" type="segment">
            <condition><![CDATA[if (OneHasValue(CNTRY_ISSUE_ISO))
	return "GeographicUnit";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "GeographicUnit";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "PRNT_GU_CNT,PRNT_GU_ID,PRNT_GU_TYP";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "GU_CNT,GU_ID,GU_TYP";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat(Strcat(Strcat(Strcat("11|CONCTNS|NESTED|PRNTGUTYP|", If(StrContainsOneOf(CNTRY_ISSUE_ISO, "SNAT", "MULT", "MISC", "CHNL", "MIX"), "UNKNOWN", "COUNTRY")), "|PRNTGUID|"), If(OneHasValue(Translate(Config_Options, true, "BBGUNT", CNTRY_ISSUE_ISO)), Translate(Config_Options, true, "BBGUNT", CNTRY_ISSUE_ISO), CNTRY_ISSUE_ISO)), "|DATASRCID|BB");]]></expr>
            </Node>
            <Node name="CALID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CITYCDE" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CITYCDETYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CITYNME" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CNTRYCDE" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CNTRYSUBDIVCDE" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CNTYCDE" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CNTYCDETYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CNTYNME" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CONTINENTCDE" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CROSSREFID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="CSDPERMITIND" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="GUCNT" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="GUDESC" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="GUID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="GUNME" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="GUTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="NLSCDE" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="POSTALCDE" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="PREFCURRCDE" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="PRNTGUCNT" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "1";]]></expr>
              </Node>
            </Node>
            <Node name="PRNTGUID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "BBGUNT", CNTRY_ISSUE_ISO)))
	return Translate(Config_Options, true, "BBGUNT", CNTRY_ISSUE_ISO);
else
	return CNTRY_ISSUE_ISO;]]></expr>
              </Node>
            </Node>
            <Node name="PRNTGUTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (StrContainsOneOf(CNTRY_ISSUE_ISO, "SNAT", "MULT", "MISC", "CHNL", "MIX"))
	return "UNKNOWN";
else
	return "COUNTRY";]]></expr>
              </Node>
            </Node>
            <Node name="REGIONNME" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STEPRVCDE" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STOPPAYIND" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TMZTMZ" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TOWNSHIPNME" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="ACRDINFLATREASTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DAILYENDTME" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DAILYSTARTTME" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="DAYSMTHBASTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DAYSYRBASTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="FIRSTTRDNGTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="FIXEDEXCHRATEIND" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="GUTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="HDGINITMLCAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="HDGMAINTMLCAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="HOMESTOCKEXCHIND" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSPRCUNITTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSPRCUTCAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSPRCUTVOLCAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSTRDUTCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSTYPGRPOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSUQUOTESTATCDE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTTRDNGTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LOWLMTCPRC" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MIFIDAVAILSHRCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MIFIDFREEFLTSHRCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MIFIDLIQUIDSHRCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTCLSFCDE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTISSOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MRGNSECIND" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NASDAQPORTALIND" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NEWQUOTECALCMETHTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NEWQUOTEMETHEFFTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="OFCLPLACELISTINGIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="OLDQUOTECALCMETHTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="OPTAVAILIND" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="OPTCRSSTRIKECPRC" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="OPTELIGIND" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PARITYPRICEIND" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PRCCURRCDE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(CRNCY))
	if (Strcmp(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"), "NO"))
		return CRNCY;
	else if (Strcmp(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"),
			"ISO"))
		if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
			return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
		else
			return CRNCY;
	else if (Strcmp(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"),
			"ISO_MAJOR"))
		if (OneHasValue(Translate(BloombergETT, true, "BLOOMBERG_CURRENCY_CODE", CRNCY)))
			return Translate(BloombergETT, true, "BLOOMBERG_CURRENCY_CODE", CRNCY);
		else
			return CRNCY;
	else if (!OneOf(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"), "NO",
			"ISO", "ISO_MAJOR"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_DL_End_of_Day_Pricing for Convert_To_ISO_Currency_Bloomberg_DL_End_of_Day_Pricing . It is other than permitted value NO, ISO,ISO_MAJOR and No value used in Config_option")),
				"");
	else
		return "";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="PRCMLTPLRCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PRCPARTLYPDCAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PRCUTMEASTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PIECE";]]></expr>
            </Node>
          </Node>
          <Node name="PRIMTRDMKTIND" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="QUALISIDOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RNDLOTSZCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SEASONEDIND" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SETTLECURRCDE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SETTLEMETHTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SPACELOWCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SPACEMEDCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SPECIALISTID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SPECINITMLCAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SPECMAINTMLCAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node disabled="1" name="STLLOCMNEM" type="element">
            <comment><![CDATA[GT 155713]]></comment>
            <Node name="VALUE" type="attribute">
              <comment><![CDATA[GT 155713]]></comment>
              <expr><![CDATA[if (OneHasValue(PLACE_OF_SETTLEMENT))
	if (OneHasValue(Translate(BloombergETT, true, "SLOC_MNEM", PLACE_OF_SETTLEMENT)))
		return Translate(BloombergETT, true, "SLOC_MNEM", PLACE_OF_SETTLEMENT);
	else
		return SubString(PLACE_OF_SETTLEMENT, 1, 10);
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="STLLOCTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(PLACE_OF_SETTLEMENT, "Physical"))
	return "PHYSICAL";
else if (Strcmp(PLACE_OF_SETTLEMENT, "No Dep. Org."))
	return "NODEPOSIT";
else
	return "DEPOSITORY";]]></expr>
            </Node>
          </Node>
          <Node name="TRDBOTDYNUM" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDBOTDYTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDBOTSTRTNUM" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDLOTSIZECQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(CRNCY))
	if (Strcmp(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"), "NO"))
		return CRNCY;
	else if (Strcmp(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"),
			"ISO"))
		if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
			return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
		else
			return CRNCY;
	else if (Strcmp(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"),
			"ISO_MAJOR"))
		if (OneHasValue(Translate(BloombergETT, true, "BLOOMBERG_CURRENCY_CODE", CRNCY)))
			return Translate(BloombergETT, true, "BLOOMBERG_CURRENCY_CODE", CRNCY);
		else
			return CRNCY;
	else if (!OneOf(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"), "NO",
			"ISO", "ISO_MAJOR"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "Convert_To_ISO_Currency", "Bloomberg_DL_End_of_Day_Pricing"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_DL_End_of_Day_Pricing for Convert_To_ISO_Currency_Bloomberg_DL_End_of_Day_Pricing . It is other than permitted value NO, ISO,ISO_MAJOR and No value used in Config_option")),
				"");
	else
		return "";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="TRDNGFLOORLOCID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGSTATTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return MARKET_STATUS;]]></expr>
            </Node>
          </Node>
          <Node name="TRDNGUTMEASTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SHARE";]]></expr>
            </Node>
          </Node>
          <Node name="TRDSUSPENDPRDENDTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDSUSPENDPRDSTARTTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="UPLMTCPRC" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RNDLOTSZCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return PX_ROUND_LOT_SIZE;]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="NXTSETDT" name="MarketIssueStatistic" type="segment">
          <comment><![CDATA[GT 169689]]></comment>
          <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, TICKER, EXCH_CODE) && OneHasValue(SETTLE_DT))
	return "MarketIssueStatistic";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "MarketIssueStatistic";]]></expr>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTISSOID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MUSTOID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="STATCHARVALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return SETTLE_DT;]]></expr>
            </Node>
          </Node>
          <Node name="STATDEFID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "NXTSETDT";]]></expr>
            </Node>
          </Node>
          <Node name="STATINTVALNUM" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STATSCURRCDE" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STATVALCAMT" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STATVALDTE" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STATVALTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node disabled="1" displayName="SAC Default Region" name="MarketIssueStatistic" type="segment">
          <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT) && OneHasValue(CNTRY_ISSUE_ISO))
	return "MarketIssueStatistic";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute"/>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "MarketIssueStatistic";]]></expr>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTISSOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MUSTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <comment><![CDATA[GT 127879 : Added INSERT_ONLY="Y"]]></comment>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="STATCHARVALTXT" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Translate(SAC_Default_Region, true, CNTRY_ISSUE_ISO);]]></expr>
            </Node>
          </Node>
          <Node name="STATDEFID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SACDEFRG";]]></expr>
            </Node>
          </Node>
          <Node name="STATINTVALNUM" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STATSCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STATVALCAMT" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STATVALDTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STATVALTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="MKISMarketIssueClassification" type="segment">
          <condition><![CDATA[if (((Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8201")
		&& AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT)) && OneHasValue(EXCH_MKT_GRP))
	return "MKISMarketIssueClassification";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute"/>
          <Node name="NESTED_ERR_LVL" type="attribute"/>
          <Node name="NESTED_ERR_TXT" type="attribute"/>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "MKISMarketIssueClassification";]]></expr>
          </Node>
          <Node name="IndustryClassification" type="segment">
            <condition><![CDATA[if (OneHasValue(EXCH_MKT_GRP))
	return "IndustryClassification";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "CLSF_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "INCL_VALUE";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|EXCHMKTGRP|CLVALUE|", Strcat(EXCH_MKT_GRP, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IndustryClassification";]]></expr>
            </Node>
            <Node name="CLVALUE" type="element">
              <Node name="DEFAULT" type="attribute"/>
              <Node name="ERR_LVL" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EXCH_MKT_GRP;]]></expr>
              </Node>
            </Node>
            <Node name="INDUSCLSETID" type="element">
              <Node name="DEFAULT" type="attribute"/>
              <Node name="ERR_LVL" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "EXCHMKTGRP";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="CLSFOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CLSFPURPTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CLVALUE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return EXCH_MKT_GRP;]]></expr>
            </Node>
          </Node>
          <Node name="DATAREDISTRIBUTORID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="EINCOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INDUSCLSETID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "EXCHMKTGRP";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MICLOID" type="element"/>
          <Node name="MKTISSCLSFDESC" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return EXCH_MKT_GRP;]]></expr>
            </Node>
          </Node>
          <Node name="MKTISSOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ORIGDATAPROVID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SUBMKTGRPCLSFOID" type="element"/>
          <Node name="SUBMKTGRPCLVALUE" type="element"/>
          <Node name="SUBMKTGRPINCSID" type="element"/>
        </Node>
        <Node name="MKISMarketIssueClassification" type="segment">
          <condition><![CDATA[if (((Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8201")
		&& AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT)) && OneHasValue(EXCH_SUB_MKT_GRP))
	return "MKISMarketIssueClassification";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute"/>
          <Node name="NESTED_ERR_LVL" type="attribute"/>
          <Node name="NESTED_ERR_TXT" type="attribute"/>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "MKISMarketIssueClassification";]]></expr>
          </Node>
          <Node name="IndustryClassification" type="segment">
            <condition><![CDATA[if (OneHasValue(EXCH_SUB_MKT_GRP))
	return "IndustryClassification";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "CLSF_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "INCL_VALUE";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|EXCHSUBMKTGRP|CLVALUE|", Strcat(EXCH_SUB_MKT_GRP, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IndustryClassification";]]></expr>
            </Node>
            <Node name="CLVALUE" type="element">
              <Node name="DEFAULT" type="attribute"/>
              <Node name="ERR_LVL" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EXCH_SUB_MKT_GRP;]]></expr>
              </Node>
            </Node>
            <Node name="INDUSCLSETID" type="element">
              <Node name="DEFAULT" type="attribute"/>
              <Node name="ERR_LVL" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "EXCHSBMTGP";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="CLSFOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CLSFPURPTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CLVALUE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return EXCH_SUB_MKT_GRP;]]></expr>
            </Node>
          </Node>
          <Node name="DATAREDISTRIBUTORID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="EINCOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INDUSCLSETID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "EXCHSBMTGP";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MICLOID" type="element"/>
          <Node name="MKTISSCLSFDESC" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTISSOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ORIGDATAPROVID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SUBMKTGRPCLSFOID" type="element"/>
          <Node name="SUBMKTGRPCLVALUE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return EXCH_SUB_MKT_GRP;]]></expr>
            </Node>
          </Node>
          <Node name="SUBMKTGRPINCSID" type="element"/>
        </Node>
        <Node name="MKISMarketIssueClassification" type="segment">
          <condition><![CDATA[if (((Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8201")
		&& AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT)) && OneHasValue(GROUP_NAME_STATIC))
	return "MKISMarketIssueClassification";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute"/>
          <Node name="NESTED_ERR_LVL" type="attribute"/>
          <Node name="NESTED_ERR_TXT" type="attribute"/>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "MKISMarketIssueClassification";]]></expr>
          </Node>
          <Node name="IndustryClassification" type="segment">
            <condition><![CDATA[if (OneHasValue(GROUP_NAME_STATIC))
	return "IndustryClassification";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "CLSF_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "INCL_VALUE";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|EXCHSUBMKTGRP|CLVALUE|", Strcat(EXCH_SUB_MKT_GRP, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IndustryClassification";]]></expr>
            </Node>
            <Node name="CLVALUE" type="element">
              <Node name="DEFAULT" type="attribute"/>
              <Node name="ERR_LVL" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return GROUP_NAME_STATIC;]]></expr>
              </Node>
            </Node>
            <Node name="INDUSCLSETID" type="element">
              <Node name="DEFAULT" type="attribute"/>
              <Node name="ERR_LVL" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "GRPNMESTAT";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="CLSFOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CLSFPURPTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CLVALUE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return GROUP_NAME_STATIC;]]></expr>
            </Node>
          </Node>
          <Node name="DATAREDISTRIBUTORID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="EINCOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INDUSCLSETID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "GRPNMESTAT";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MICLOID" type="element"/>
          <Node name="MKTISSCLSFDESC" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTISSOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ORIGDATAPROVID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SUBMKTGRPCLSFOID" type="element"/>
          <Node name="SUBMKTGRPCLVALUE" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SUBMKTGRPINCSID" type="element"/>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8401")
		|| ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") <= "8311") && Strcmp(Translate(Config_Options,
				true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"), "NO")))
	if (AllHaveValue(ID_SEDOL1, SEDOL1_COUNTRY_ISO))
		return "IssueIdentifier";
	else
		return "";
else if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") <= "8311") && Strcmp(
		Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES"))
	return "";
else if (!StrContainsOneOf(
		Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(Strcat(
			Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
			Strcat("--",
					"Wrong value in Config_Option against Create_SEDOL_at_Country_Level. It is other than permitted value YES and NO used in Config_option")),
			"");
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(SEDOL1_COUNTRY_ISO)
		&& !StrContainsOneOf(SEDOL1_COUNTRY_ISO, "AN", "EU", "KV", "MISC", "MIX", "MULT", "PZ", "SNAT", "XE", "ZB"))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|",
		Strcat(If(OneHasValue(SEDOL1_COUNTRY_ISO), "COUNTRYISO2", ""), Strcat("|MKTID|",
				Strcat(If(OneHasValue(SEDOL1_COUNTRY_ISO), SEDOL1_COUNTRY_ISO, ""), "|DATASRCID|BLOOMBERG"))));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return SEDOL1_COUNTRY_ISO;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "COUNTRYISO2";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(SEDOL1_COUNTRY_ISO)
		&& StrContainsOneOf(SEDOL1_COUNTRY_ISO, "AN", "EU", "KV", "MISC", "MIX", "MULT", "PZ", "SNAT", "XE", "ZB"))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|",
		Strcat(If(OneHasValue(SEDOL1_COUNTRY_ISO), "BBCNTRY", ""), Strcat("|MKTID|",
				Strcat(If(OneHasValue(SEDOL1_COUNTRY_ISO), SEDOL1_COUNTRY_ISO, ""), "|DATASRCID|BLOOMBERG"))));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return SEDOL1_COUNTRY_ISO;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBCNTRY";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SEDOL";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL1;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL1;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|",
		Strcat("MIC", Strcat("|MKTID|", Strcat("NOT LISTED/UNKNOWN", "|DATASRCID|BLOOMBERG"))));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "XXXX";]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "MIC";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SEDOL";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL1;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL1;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SEDOL";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL1;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL1;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(SEDOL1_COUNTRY_ISO)
		&& !StrContainsOneOf(SEDOL1_COUNTRY_ISO, "AN", "EU", "KV", "MISC", "MIX", "MULT", "PZ", "SNAT", "XE", "ZB"))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|",
		Strcat(If(OneHasValue(SEDOL1_COUNTRY_ISO), "COUNTRYISO2", ""), Strcat("|MKTID|",
				Strcat(If(OneHasValue(SEDOL1_COUNTRY_ISO), SEDOL1_COUNTRY_ISO, ""), "|DATASRCID|BLOOMBERG"))));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return SEDOL1_COUNTRY_ISO;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "COUNTRYISO2";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(SEDOL1_COUNTRY_ISO)
		&& StrContainsOneOf(SEDOL1_COUNTRY_ISO, "AN", "EU", "KV", "MISC", "MIX", "MULT", "PZ", "SNAT", "XE", "ZB"))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|",
		Strcat(If(OneHasValue(SEDOL1_COUNTRY_ISO), "BBCNTRY", ""), Strcat("|MKTID|",
				Strcat(If(OneHasValue(SEDOL1_COUNTRY_ISO), SEDOL1_COUNTRY_ISO, ""), "|DATASRCID|BLOOMBERG"))));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return SEDOL1_COUNTRY_ISO;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBCNTRY";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SEDOL";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_SEDOL1;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_SEDOL1;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8401")
		|| ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") <= "8311") && Strcmp(Translate(Config_Options,
				true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"), "NO")))
	if (AllHaveValue(ID_SEDOL2, SEDOL2_COUNTRY_ISO))
		return "IssueIdentifier";
	else
		return "";
else if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") <= "8311") && Strcmp(
		Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES"))
	return "";
else if (!StrContainsOneOf(
		Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(Strcat(
			Translate(Config_Options, true, "TmpBackCompatibility_SEDOL_NoCountry", "Bloomberg_DL_End_of_Day_Pricing"),
			Strcat("--",
					"Wrong value in Config_Option against Create_SEDOL_at_Country_Level. It is other than permitted value YES and NO used in Config_option")),
			"");
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(SEDOL2_COUNTRY_ISO)
		&& !StrContainsOneOf(SEDOL2_COUNTRY_ISO, "AN", "EU", "KV", "MISC", "MIX", "MULT", "PZ", "SNAT", "XE", "ZB"))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|",
		Strcat(If(OneHasValue(SEDOL2_COUNTRY_ISO), "COUNTRYISO2", ""), Strcat("|MKTID|",
				Strcat(If(OneHasValue(SEDOL2_COUNTRY_ISO), SEDOL2_COUNTRY_ISO, ""), "|DATASRCID|BLOOMBERG"))));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return SEDOL2_COUNTRY_ISO;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "COUNTRYISO2";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(SEDOL2_COUNTRY_ISO)
		&& StrContainsOneOf(SEDOL2_COUNTRY_ISO, "AN", "EU", "KV", "MISC", "MIX", "MULT", "PZ", "SNAT", "XE", "ZB"))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|",
		Strcat(If(OneHasValue(SEDOL2_COUNTRY_ISO), "BBCNTRY", ""), Strcat("|MKTID|",
				Strcat(If(OneHasValue(SEDOL2_COUNTRY_ISO), SEDOL2_COUNTRY_ISO, ""), "|DATASRCID|BLOOMBERG"))));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return SEDOL2_COUNTRY_ISO;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBCNTRY";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SEDOL";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL2;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL2;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|",
		Strcat("MIC", Strcat("|MKTID|", Strcat("NOT LISTED/UNKNOWN", "|DATASRCID|BLOOMBERG"))));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "XXXX";]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "MIC";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SEDOL";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL2;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL2;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SEDOL";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL2;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_SEDOL2;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(SEDOL2_COUNTRY_ISO)
		&& !StrContainsOneOf(SEDOL2_COUNTRY_ISO, "AN", "EU", "KV", "MISC", "MIX", "MULT", "PZ", "SNAT", "XE", "ZB"))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|",
		Strcat(If(OneHasValue(SEDOL2_COUNTRY_ISO), "COUNTRYISO2", ""), Strcat("|MKTID|",
				Strcat(If(OneHasValue(SEDOL2_COUNTRY_ISO), SEDOL2_COUNTRY_ISO, ""), "|DATASRCID|BLOOMBERG"))));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return SEDOL2_COUNTRY_ISO;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "COUNTRYISO2";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(SEDOL2_COUNTRY_ISO)
		&& StrContainsOneOf(SEDOL2_COUNTRY_ISO, "AN", "EU", "KV", "MISC", "MIX", "MULT", "PZ", "SNAT", "XE", "ZB"))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|",
		Strcat(If(OneHasValue(SEDOL2_COUNTRY_ISO), "BBCNTRY", ""), Strcat("|MKTID|",
				Strcat(If(OneHasValue(SEDOL2_COUNTRY_ISO), SEDOL2_COUNTRY_ISO, ""), "|DATASRCID|BLOOMBERG"))));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return SEDOL2_COUNTRY_ISO;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBCNTRY";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SEDOL";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_SEDOL2;]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_SEDOL2;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IssueAnalytics" type="segment">
          <condition><![CDATA[if (OneHasValue(EQY_BETA))
	return "IssueAnalytics";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISAN_MATCH_3";]]></expr>
          </Node>
          <Node name="NESTED_ERR_LVL" type="attribute"/>
          <Node name="NESTED_ERR_TXT" type="attribute"/>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueAnalytics";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="BNCHIdentifier" type="segment">
            <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8201")
	return "BNCHIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "BNCH_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "BNID_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute"/>
            <Node name="NESTED_ERR_TXT" type="attribute"/>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "BNCHIdentifier";]]></expr>
            </Node>
            <Node name="MarketIssueStatistic" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute">
                <expr><![CDATA[return "STAT_CHAR_VAL_TXT";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "BNCHMRK_ID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="NESTED_ERR_LVL" type="attribute"/>
              <Node name="NESTED_ERR_TXT" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "MarketIssueStatistic";]]></expr>
              </Node>
              <Node name="MarketIssueCharacteristics" type="segment">
                <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT))
	return "MarketIssueCharacteristics";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_ISS_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKIS_MATCH_4";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute"/>
                <Node name="NESTED_ERR_TXT" type="attribute"/>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "MarketIssueCharacteristics";]]></expr>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute">
                    <expr><![CDATA[return "ISID_OID,INSTR_ID";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "QUAL_ISID_OID,INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute"/>
                  <Node name="NESTED_ERR_TXT" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute"/>
                    <Node name="NESTED_ERR_TXT" type="attribute"/>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "TICKER";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TICKER;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute"/>
                  <Node name="NESTED_ERR_TXT" type="attribute"/>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
              </Node>
              <Node name="STATDEFID" type="element">
                <Node name="DEFAULT" type="attribute"/>
                <Node name="ERR_LVL" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "RELINDEX";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="BNCHMRKID" type="element">
              <Node name="DEFAULT" type="attribute"/>
              <Node name="ERR_LVL" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="BNCHMRKIDCTXTTYP" type="element">
              <Node name="DEFAULT" type="attribute"/>
              <Node name="ERR_LVL" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "TICKER";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "ISID_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute"/>
            <Node name="NESTED_ERR_TXT" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "TICKER";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return TICKER;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="ALPHACRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ASSETSWAPSPREADCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="BASERPICAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="BETACRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return EQY_BETA;]]></expr>
            </Node>
          </Node>
          <Node name="BNCHOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CAPLETDELTACRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CAPLETGAMMACRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CAPLETTHETACRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CONVEXITYCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CRRNTBASERPICRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CRRNTRPICAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CRRNTRPILASTPAYQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DELTACRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DELTAINVGCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DELTASCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DELTASM1CRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DELTASM2CRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DELTAVCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="EFFCONVEXCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="EFFDURATIONCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="GAMMACRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="GAMMAINVGCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="GAMMASM1CRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="GAMMASM2CRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="GAMMAVCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IMPLIEDVOLATCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IMPLIEDVOLATSM1CRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IMPLIEDVOLATSM2CRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISANOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LIQUIDITYCPCT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MACAULAYDURCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTINDXDEFID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MODDURCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MODDURWORSTCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="OPTIONADJSPREADCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ORIGDATAPROVID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RHOCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RHOINVGCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RPI8MOCAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RPIDTETYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RPIPUBLISHTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SEMICONVEXCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SEMIMACAULAYDURCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SEMIMODDURCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SEMIMODDURWORSTCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SEMIWORSTCONVEXCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SPREADDURCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STATSCORTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STATSCURRCDE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STATSEFFTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="STRIPPEDSPREADCQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="THETACRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="THETAINVGCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="THETASM1CRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="THETASM2CRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="VEGACRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="VEGASM1CRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="VEGASM2CRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="VOLAT10DYCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="VOLAT180DYCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="VOLAT200DYCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="VOLAT260DYCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="VOLAT30DYCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="VOLAT360DYCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="VOLAT60DYCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="VOLAT90DYCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="VOLATCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="VOLATINVGCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="VOLATSCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="VOLATVCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="WORSTCONVEXCRTE" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="YRWORSTQTY" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="EquityStatistics" type="segment">
          <condition><![CDATA[if (OneHasValue(EQY_SH_OUT, EQY_FLOAT, EQY_DVD_YLD_IND, EQY_DVD_YLD_12M, EQY_DVD_YLD_12M_NET))
	return "EquityStatistics";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "EQST_MATCH_1";]]></expr>
          </Node>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute">
            <expr><![CDATA[return "N";]]></expr>
          </Node>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "EquityStatistics";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="ANDIVYLDCPCT" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CSHDIVINCRCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="DIVDECLAREDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DIVESTYLDCPCT" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DIVEXTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DIVEXTODAYIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DIVPAIDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DIVRCDTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DIVYLD12MCPCT" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[if (OneHasValue(EQY_DVD_YLD_12M_NET) && Strcmp(ID_BB_PRIM_SECURITY_FLAG, "Y"))
	return "";
else
	return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return EQY_DVD_YLD_12M_NET;]]></expr>
            </Node>
          </Node>
          <Node name="DIVYLDCPCT" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[if (OneHasValue(EQY_DVD_YLD_IND) && Strcmp(ID_BB_PRIM_SECURITY_FLAG, "Y"))
	return "";
else
	return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return EQY_DVD_YLD_IND;]]></expr>
            </Node>
          </Node>
          <Node name="DPSANCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DPSGRWCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="EQSTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ESTPERATIOCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="FGNRSHRCQTY" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="FLTCQTY" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[if (OneHasValue(EQY_FLOAT) && Strcmp(ID_BB_PRIM_SECURITY_FLAG, "Y"))
	return "";
else
	return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(EQY_FLOAT))
	return EQY_FLOAT * 1000000;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="FRANKEDDIVCPCT" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="GRSDPS12MCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="GRSDPS1YRCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="GRSDPS3YRCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="GRSDPS5YRCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="GRSDPSAN12MCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="GRSDPSANCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="GRSDPSCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="GRSDPSFLYRCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTDIVPAIDTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTSHRJPNCQTY" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTCPTLZNCQTY" type="element">
            <comment><![CDATA[123859 - Mapping to be remove as we capture all dividend related information in EQST and it is already being mapped in ISMC.]]></comment>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NETDPS12MCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NETDPS1YRCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NETDPS3YRCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NETDPS5YRCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NETDPSAN12MCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NETDPSANCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NETDPSCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NETDPSFLYRCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PAYCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[if (OneHasValue(EQY_DVD_YLD_12M) && Strcmp(ID_BB_PRIM_SECURITY_FLAG, "Y"))
	return "";
else
	return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return EQY_DVD_YLD_12M;]]></expr>
            </Node>
          </Node>
          <Node name="PERATIOCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PRCEBITDACRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RECMDCONSENTCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SHROUTSTCQTY" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(EQY_SH_OUT))
	return EQY_SH_OUT * 1000000;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="SPLITRATIOCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SPLITTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STATSCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STATSEFFTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate("19000101", "YYYYMMDD");]]></expr>
            </Node>
          </Node>
          <Node name="VOTINGRIGHTSCRTE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="IssueMarketCapitalization" type="segment">
          <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8411")
		|| (Translate(Connection_Version, true, "GS_VERSION", "VERSION") == "8201"))
	if (OneHasValue(CUR_MKT_CAP))
		return "IssueMarketCapitalization";
	else
		return "";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISMC_MATCH_KEY";]]></expr>
          </Node>
          <Node name="NESTED_ERR_LVL" type="attribute"/>
          <Node name="NESTED_ERR_TXT" type="attribute"/>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute">
            <expr><![CDATA[return "CAP_SEC_CQTY";]]></expr>
          </Node>
          <Node name="TSOPTION" type="attribute">
            <comment><![CDATA[GT#169957]]></comment>
            <expr><![CDATA[if ((AllHaveValue(EXCH_CODE, EQY_PRIM_EXCH_SHRT) && (EXCH_CODE == EQY_PRIM_EXCH_SHRT)) && Strcmp(ID_BB_PRIM_SECURITY_FLAG, "Y"))
	return "Y";
else
	return "N";]]></expr>
          </Node>
          <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueMarketCapitalization";]]></expr>
          </Node>
          <Node name="CAPCHGEFFTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CAPDATACURRCDE" type="element">
            <comment><![CDATA[123859 - As CURR_MKT_CAP will always hold good if it gets accommodated with a currency.]]></comment>
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BLOOMBERG_CURRENCY_CODE", CRNCY)))
		return Translate(BloombergETT, true, "BLOOMBERG_CURRENCY_CODE", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="CAPDATAGRADETYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CAPITALTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "OUTSTAND";]]></expr>
            </Node>
          </Node>
          <Node name="CAPNOMINALCAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CAPSECCQTY" type="element">
            <comment><![CDATA[158655]]></comment>
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute">
              <comment><![CDATA[GT#169957]]></comment>
              <expr><![CDATA[if ((AllHaveValue(EXCH_CODE, EQY_PRIM_EXCH_SHRT) && (EXCH_CODE == EQY_PRIM_EXCH_SHRT)) && Strcmp(ID_BB_PRIM_SECURITY_FLAG, "Y"))
	return "";
else
	return "Y";]]></expr>
            </Node>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(EQY_SH_OUT_REAL) && !Strcmp(Float2String(EQY_SH_OUT_REAL, 0, 0), "0"))
	return EQY_SH_OUT_REAL;
else if (OneHasValue(EQY_SH_OUT))
	return EQY_SH_OUT * 1000000;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="FREEFLTCPCT" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <comment><![CDATA[GT#169957]]></comment>
              <expr><![CDATA[if ((AllHaveValue(EXCH_CODE, EQY_PRIM_EXCH_SHRT) && (EXCH_CODE == EQY_PRIM_EXCH_SHRT)) && Strcmp(ID_BB_PRIM_SECURITY_FLAG, "Y"))
	return "";
else
	return "Y";]]></expr>
            </Node>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if ((OneHasValue(EQY_SH_OUT) && !Strcmp(Float2String(EQY_SH_OUT, 0, 0), "0")) && (AllHaveValue(EQY_FLOAT, EQY_SH_OUT)))
	return (EQY_FLOAT / EQY_SH_OUT) * 100;
else if ((OneHasValue(EQY_SH_OUT_REAL) && !Strcmp(Float2String(EQY_SH_OUT_REAL, 0, 0), "0")) && (AllHaveValue(EQY_FLOAT, EQY_SH_OUT_REAL)))
	return ((EQY_FLOAT * 1000000) / EQY_SH_OUT_REAL) * 100;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISMCOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTCPTLZNCQTY" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(CUR_MKT_CAP))
	return CUR_MKT_CAP * 1000000;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="LISTED" name="IssueMarketCapitalization" type="segment">
          <comment><![CDATA[GT- 168290]]></comment>
          <condition><![CDATA[if (OneHasValue(MKT_CAP_LISTED))
	return "IssueMarketCapitalization";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISMC_MATCH_KEY";]]></expr>
          </Node>
          <Node name="NESTED_ERR_LVL" type="attribute"/>
          <Node name="NESTED_ERR_TXT" type="attribute"/>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueMarketCapitalization";]]></expr>
          </Node>
          <Node name="CAPCHGEFFTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CAPDATACURRCDE" type="element">
            <comment><![CDATA[123859 - As CURR_MKT_CAP will always hold good if it gets accommodated with a currency.]]></comment>
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BLOOMBERG_CURRENCY_CODE", CRNCY)))
		return Translate(BloombergETT, true, "BLOOMBERG_CURRENCY_CODE", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="CAPDATAGRADETYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CAPITALTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "LISTED";]]></expr>
            </Node>
          </Node>
          <Node name="CAPNOMINALCAMT" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISMCOID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTCPTLZNCQTY" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(MKT_CAP_LISTED))
	return MKT_CAP_LISTED * 1000000;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="DEFAULT" type="attribute"/>
            <Node name="ERR_LVL" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
        </Node>
      </Node>
      <Node messageformat="GSREF" name="STREET_REF" type="message">
        <Options>
          <Option key="OutputEncoding"/>
          <Option key="AddTZIndicators">true</Option>
          <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
          <Option key="DocType">STREET_REF</Option>
        </Options>
        <condition><![CDATA[if (Strcmp("Y", GetRuntimeParameter("PriceData")))
	if (Strcmp(ERRORCODE, "0"))
		return Translate(Config_Options, true, "ISPCMKT1", "STREET_REF");
	else
		return "";
else
	return "";]]></condition>
        <Node name="MESSAGECONDITION" type="attribute">
          <expr><![CDATA[if (Strcmp("Y", GetRuntimeParameter("PriceData")))
	if (Strcmp(ERRORCODE, "0"))
		return Translate(Config_Options, true, "ISPCMKT1", "STREET_REF");
	else
		return "";
else
	return "";]]></expr>
        </Node>
        <Node name="TRACE" type="attribute">
          <expr><![CDATA[return "false";]]></expr>
        </Node>
        <Node name="TRANSACTIONCODE" type="attribute"/>
        <Node name="USERID" type="attribute">
          <expr><![CDATA[return "GUEST";]]></expr>
        </Node>
        <Node name="HEADER" type="element">
          <Node name="CURRENTTIMESTAMP" type="element">
            <expr><![CDATA[return TimeStamp();]]></expr>
          </Node>
          <Node name="DATASOURCE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="LOCALE" type="element">
            <Node name="NLS" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ENU";]]></expr>
              </Node>
            </Node>
            <Node name="TIMEZONE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "GMT Standard Time";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_ID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBUNIQUE";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(SECURITY_TYP))
	return TranslateEIST2ISTY("BB", "", "", SECURITY_TYP);
else
	return "MISC";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_NME" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return NAME;]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_TBL_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ISPC";]]></expr>
            </Node>
          </Node>
          <Node name="MSGCLASSIFICATION" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBEQ620";]]></expr>
            </Node>
          </Node>
          <Node name="MSGTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="REFERRINGPAGE" type="element"/>
          <Node name="USERID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBEQPX";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="Issue" type="segment">
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "REFERENCE";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute"/>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "Issue";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_ISIN))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ISIN";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_ISIN;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_CUSIP) && !IsAlpha(ID_CUSIP, 1, 1))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "CUSIP";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_CUSIP;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBUNIQUE";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_BB_UNIQUE) && !OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute">
              <expr><![CDATA[return "L";]]></expr>
            </Node>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBUNIQUE";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBGLOBAL";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
		&& Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "CPGLOBAL";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
              </Node>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_BB_GLOBAL) && !OneHasValue(EXCH_CODE))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute">
              <expr><![CDATA[return "L";]]></expr>
            </Node>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBGLOBAL";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "TICKER";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return TICKER;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, EQY_PRIM_EXCH_SHRT, TICKER, COMPOSITE_EXCH_CODE))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute"/>
            <Node name="NESTED_ERR_TXT" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBCPTICK";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK"]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, ID_EXCH_SYMBOL, EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBTRDGSYMB";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_EXCH_SYMBOL;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (AllHaveValue(RequestIdentifier, RequestContext) && Strcmp(RequestContext, "SEDOL"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IssueIdentifier" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute">
                <expr><![CDATA[return "ISID_OID";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "ISID_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
              </Node>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <comment><![CDATA[For persecurity request with TICKER and EXCH_CODE/Market Sector combination
a seperate ID Context to be used to avoid problems while referring for TICKER
in RISS]]></comment>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "CPSEDOL";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <comment><![CDATA[Ticker will be requested with Exchange code/Market sector and so Request Idetifier
will have the entire info agaianst it whereas only 'TICKER' info is to be mapped]]></comment>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return RequestIdentifier;]]></expr>
                </Node>
              </Node>
              <Node name="ISSUSAGETYP" type="element">
                <comment><![CDATA[For SEDOL and BBUNIQUE only this field is to be mapped]]></comment>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return RequestIdentifier;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute"/>
              <Node name="NESTED_ERR_TXT" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701") && OneHasValue(COMPOSITE_EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute"/>
              <Node name="NESTED_ERR_TXT" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <comment><![CDATA[For persecurity request with TICKER and EXCH_CODE/Market Sector combination
a seperate ID Context to be used to avoid problems while referring for TICKER
in RISS]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "CPSEDOL";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <comment><![CDATA[Ticker will be requested with Exchange code/Market sector and so Request Idetifier
will have the entire info agaianst it whereas only 'TICKER' info is to be mapped]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return RequestIdentifier;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <comment><![CDATA[For SEDOL and BBUNIQUE only this field is to be mapped]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return RequestIdentifier;]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (!(Strcmp(RequestContext, "CUSIP")
		&& (StrContainsOneOf(RequestContext, "BB_UNIQUE", "TICKER") && !IsAlpha(RequestIdentifier, 1, 1))))
	if (AllHaveValue(RequestIdentifier, RequestContext) && !Strcmp(RequestContext, "SEDOL"))
		if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
			return "IssueIdentifier";
		else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
			return "";
		else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
			return ThrowMapError(
					Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
							Strcat("--",
									"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
					"");
		else
			return "";
	else
		return "";
else if (AllHaveValue(RequestIdentifier, RequestContext) && !Strcmp(RequestContext, "SEDOL"))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[if (Strcmp(RequestContext, "BB_UNIQUE"))
	return "ISID6_CTX_ID_MKT_USG";
else if (Strcmp(RequestContext, "ISIN"))
	return "ISID6_CTX_ID_MKT_USG";
else if (Strcmp(RequestContext, "CUSIP"))
	return "ISID6_CTX_ID_MKT_USG";
else if (Strcmp(RequestContext, "TICKER"))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneOf(RequestContext, "BB_UNIQUE", "TICKER"))
		return "FinancialMarketIdentifier";
	else
		return "";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute"/>
              <Node name="NESTED_ERR_TXT" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
		&& OneOf(RequestContext, "BB_UNIQUE", "TICKER"))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute"/>
              <Node name="NESTED_ERR_TXT" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <comment><![CDATA[For persecurity request with TICKER and EXCH_CODE/Market Sector combination
a seperate ID Context to be used to avoid problems while referring for TICKER
in RISS]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return "CUSIP";
else if (Strcmp(RequestContext, "BB_UNIQUE"))
	return "CPBBUNIQ";
else if (Strcmp(RequestContext, "TICKER"))
	return "CPTICKER";
else
	return RequestContext;]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <comment><![CDATA[Ticker will be requested with Exchange code/Market sector and so Request Idetifier
will have the entire info agaianst it whereas only 'TICKER' info is to be mapped
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER"))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return RequestIdentifier;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <comment><![CDATA[For SEDOL and BBUNIQUE only this field is to be mapped
The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(RequestContext, "BB_UNIQUE"))
	if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred",
			"Cross", "Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index",
			"OTC Option"))
		return RequestIdentifier;
	else
		return "";
else if (Strcmp(RequestContext, "TICKER"))
	if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
		return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
	else
		return "";
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (AllHaveValue(TICKER_AND_EXCH_CODE, ID_BB_UNIQUE)
		&& !Strcmp(TICKER_AND_EXCH_CODE, Strcat(TICKER, Strcat(" ", EXCH_CODE))))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBTICKEXH";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(TICKER_AND_EXCH_CODE))
	return TICKER_AND_EXCH_CODE;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_ISIN))
	return "IssueIdentifier";
else if (OneHasValue(ID_CUSIP) && !IsAlpha(ID_CUSIP, 1, 1))
	return "IssueIdentifier";
else if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else if (AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else if (AllHaveValue(ID_BB_UNIQUE, EQY_PRIM_EXCH_SHRT, TICKER, COMPOSITE_EXCH_CODE))
	return "IssueIdentifier";
else if (AllHaveValue(RequestIdentifier, RequestContext) && Strcmp(RequestContext, "SEDOL"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (AllHaveValue(RequestIdentifier, RequestContext) && !Strcmp(RequestContext, "SEDOL"))
		if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
			return "IssueIdentifier";
		else if (Strcmp(RequestContext, "BB_UNIQUE"))
			if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
				return "IssueIdentifier";
			else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
				return "";
			else if (Strcmp(RequestContext, "TICKER"))
				if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
					return "IssueIdentifier";
				else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
					return "";
				else
					return "IssueIdentifier";
			else
				return "";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("23|CONCTNS|NESTED|IDCTXTTYP|", Strcat(
		If(OneHasValue(ID_ISIN), "ISIN", If(OneHasValue(ID_CUSIP) && !IsAlpha(ID_CUSIP, 1, 1), "CUSIP", If(AllHaveValue(
				EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE),
				"BBUNIQUE",
				If(AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT), "TICKER", If(
						AllHaveValue(ID_BB_UNIQUE, EQY_PRIM_EXCH_SHRT, TICKER, COMPOSITE_EXCH_CODE), "BBCPTICK",
						If(AllHaveValue(ID_BB_UNIQUE, ID_EXCH_SYMBOL, EQY_PRIM_EXCH_SHRT), "BBTRDGSYMB", If(
								AllHaveValue(RequestIdentifier, RequestContext)
										&& Strcmp(RequestContext, "SEDOL"),
								"CPSEDOL",
								If(AllHaveValue(RequestIdentifier, RequestContext) && !Strcmp(RequestContext, "SEDOL"),
										If(Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1),
												"CUSIP", If(Strcmp(RequestContext, "BB_UNIQUE"), "CPBBUNIQ",
														If(Strcmp(RequestContext, "TICKER"), "CPTICKER",
																RequestContext))),
										If(AllHaveValue(TICKER_AND_EXCH_CODE, ID_BB_UNIQUE)
												&& !Strcmp(TICKER_AND_EXCH_CODE,
														Strcat(TICKER, Strcat(" ", EXCH_CODE))),
												"BBTICKEXH", ""))))))))),
		Strcat("|ISSID|", Strcat(
				If(OneHasValue(ID_ISIN), ID_ISIN, If(OneHasValue(ID_CUSIP) && !IsAlpha(ID_CUSIP, 1, 1), ID_CUSIP, If(
						AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE), ID_BB_UNIQUE,
						If(AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT), TICKER, If(
								AllHaveValue(ID_BB_UNIQUE, EQY_PRIM_EXCH_SHRT, TICKER, COMPOSITE_EXCH_CODE),
								If(AllHaveValue(TICKER, COMPOSITE_EXCH_CODE),
										Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE)),
										""),
								If(AllHaveValue(ID_BB_UNIQUE, ID_EXCH_SYMBOL, EQY_PRIM_EXCH_SHRT), ID_EXCH_SYMBOL,
										If(AllHaveValue(RequestIdentifier, RequestContext)
												&& Strcmp(RequestContext, "SEDOL"),
												RequestIdentifier, If(
														AllHaveValue(RequestIdentifier,
																RequestContext) && !Strcmp(RequestContext, "SEDOL"),
														If(Strcmp(RequestContext, "CUSIP")
																&& !IsAlpha(RequestIdentifier, 1, 1),
																RequestIdentifier,
																If(Strcmp(RequestContext, "TICKER"),
																		Strcat(TICKER,
																				Strcat(" ", COMPOSITE_EXCH_CODE)),
																		RequestIdentifier)),
														If(OneHasValue(TICKER_AND_EXCH_CODE), TICKER_AND_EXCH_CODE,
																""))))))))),
				"|DATASRCID|BB"))));]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(ID_ISIN))
	return "ISIN";
else if (OneHasValue(ID_CUSIP) && !IsAlpha(ID_CUSIP, 1, 1))
	return "CUSIP";
else if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "BBUNIQUE";
else if (AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT))
	return "TICKER";
else if (AllHaveValue(ID_BB_UNIQUE, EQY_PRIM_EXCH_SHRT, TICKER, COMPOSITE_EXCH_CODE))
	return "BBCPTICK";
else if (AllHaveValue(RequestIdentifier, RequestContext) && Strcmp(RequestContext, "SEDOL"))
	return "CPSEDOL";
else if (AllHaveValue(RequestIdentifier, RequestContext) && !Strcmp(RequestContext, "SEDOL"))
	if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
		return "CUSIP";
	else if (Strcmp(RequestContext, "BB_UNIQUE"))
		return "CPBBUNIQ";
	else if (Strcmp(RequestContext, "TICKER"))
		return "CPTICKER";
	else
		return RequestContext;
else if (AllHaveValue(TICKER_AND_EXCH_CODE, ID_BB_UNIQUE)
		&& !Strcmp(TICKER_AND_EXCH_CODE, Strcat(TICKER, Strcat(" ", EXCH_CODE))))
	return "BBTICKEXH";
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(ID_ISIN))
	return ID_ISIN;
else if (OneHasValue(ID_CUSIP) && !IsAlpha(ID_CUSIP, 1, 1))
	return ID_CUSIP;
else if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return ID_BB_UNIQUE;
else if (AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT))
	return TICKER;
else if (AllHaveValue(ID_BB_UNIQUE, EQY_PRIM_EXCH_SHRT, TICKER, COMPOSITE_EXCH_CODE))
	if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
		return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
	else
		return "";
else if (OneHasValue(RequestIdentifier))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER"))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else if (OneHasValue(TICKER_AND_EXCH_CODE))
	return TICKER_AND_EXCH_CODE;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(RequestContext, "TICKER") && OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="ISSTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="WHENISSUEDIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(MARKET_STATUS, "WHIS"))
	return "Y";
else
	return SetSendNullFlag("");]]></expr>
            </Node>
          </Node>
        </Node>
        <If>
          <expr><![CDATA[return Strcmp("Y", GetRuntimeParameter("PriceData"));]]></expr>
          <Then>
            <Node name="ISSUIssuePrice" type="segment">
              <comment><![CDATA[Update segment for GT 22625]]></comment>
              <condition><![CDATA[if (AllHaveValue(PX_BID, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_BID, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISS_PRC_ID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute"/>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBUNIQUE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPBBUNIQ";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
		&& Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "2";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BID";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_BID;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
		&& Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "2";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BID";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_BID;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_BID, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_BID, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISPC_MATCH_2";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1)))
	return "IssueIdentifier";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && StrContainsOneOf(RequestContext, "BB_UNIQUE", "TICKER", "SEDOL"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return "CUSIP";
else if (Strcmp(RequestContext, "BB_UNIQUE"))
	return "CPBBUNIQ";
else if (Strcmp(RequestContext, "TICKER"))
	return "CPTICKER";
else if (Strcmp(RequestContext, "SEDOL"))
	return "CPSEDOL";
else
	return RequestContext;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER"))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "BB_UNIQUE"))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER") && OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else if (Strcmp(RequestContext, "SEDOL"))
	return RequestIdentifier;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "2";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BID";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_BID;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
		&& Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "2";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BID";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_BID;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_MID, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_MID, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISS_PRC_ID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute"/>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBUNIQUE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPBBUNIQ";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(OneHasValue(COMPOSITE_EXCH_CODE)))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "4";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "MID";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_MID;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "4";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "MID";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_MID;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_MID, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_MID, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISPC_MATCH_2";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1)))
	return "IssueIdentifier";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && StrContainsOneOf(RequestContext, "BB_UNIQUE", "TICKER", "SEDOL"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return "CUSIP";
else if (Strcmp(RequestContext, "BB_UNIQUE"))
	return "CPBBUNIQ";
else if (Strcmp(RequestContext, "TICKER"))
	return "CPTICKER";
else if (Strcmp(RequestContext, "SEDOL"))
	return "CPSEDOL";
else
	return RequestContext;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER"))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "BB_UNIQUE"))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER") && OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else if (Strcmp(RequestContext, "SEDOL"))
	return RequestIdentifier;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "4";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "MID";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_MID;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "4";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "MID";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_MID;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_ASK, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_ASK, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISS_PRC_ID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute"/>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBUNIQUE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPBBUNIQ";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "3";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ASKED";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_ASK;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "3";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ASKED";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_ASK;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_ASK, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_ASK, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISPC_MATCH_2";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1)))
	return "IssueIdentifier";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && StrContainsOneOf(RequestContext, "BB_UNIQUE", "TICKER", "SEDOL"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return "CUSIP";
else if (Strcmp(RequestContext, "BB_UNIQUE"))
	return "CPBBUNIQ";
else if (Strcmp(RequestContext, "TICKER"))
	return "CPTICKER";
else if (Strcmp(RequestContext, "SEDOL"))
	return "CPSEDOL";
else
	return RequestContext;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER"))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "BB_UNIQUE"))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER") && OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else if (Strcmp(RequestContext, "SEDOL"))
	return RequestIdentifier;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "3";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ASKED";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_ASK;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "3";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ASKED";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_ASK;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_ASK, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_ASK, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISPC_MATCH_2";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1)))
	return "IssueIdentifier";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && StrContainsOneOf(RequestContext, "BB_UNIQUE", "TICKER", "SEDOL"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return "CUSIP";
else if (Strcmp(RequestContext, "BB_UNIQUE"))
	return "CPBBUNIQ";
else if (Strcmp(RequestContext, "TICKER"))
	return "CPTICKER";
else if (Strcmp(RequestContext, "SEDOL"))
	return "CPSEDOL";
else
	return RequestContext;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER"))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "BB_UNIQUE"))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER") && OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else if (Strcmp(RequestContext, "SEDOL"))
	return RequestIdentifier;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "3";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ASKED";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_ASK;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "3";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ASKED";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_ASK;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_OPEN, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_OPEN, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISS_PRC_ID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute"/>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBUNIQUE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPBBUNIQ";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "1";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "OPEN";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_OPEN;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "OPEN";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_OPEN;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_OPEN, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_OPEN, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISPC_MATCH_2";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1)))
	return "IssueIdentifier";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && StrContainsOneOf(RequestContext, "BB_UNIQUE", "TICKER", "SEDOL"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return "CUSIP";
else if (Strcmp(RequestContext, "BB_UNIQUE"))
	return "CPBBUNIQ";
else if (Strcmp(RequestContext, "TICKER"))
	return "CPTICKER";
else if (Strcmp(RequestContext, "SEDOL"))
	return "CPSEDOL";
else
	return RequestContext;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER"))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "BB_UNIQUE"))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER") && OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else if (Strcmp(RequestContext, "SEDOL"))
	return RequestIdentifier;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "1";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "OPEN";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_OPEN;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "OPEN";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_OPEN;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_HIGH, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_HIGH, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISS_PRC_ID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute"/>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBUNIQUE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPBBUNIQ";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "1";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "004";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_HIGH;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "004";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_HIGH;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_HIGH, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_HIGH, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISPC_MATCH_2";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1)))
	return "IssueIdentifier";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && StrContainsOneOf(RequestContext, "BB_UNIQUE", "TICKER", "SEDOL"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return "CUSIP";
else if (Strcmp(RequestContext, "BB_UNIQUE"))
	return "CPBBUNIQ";
else if (Strcmp(RequestContext, "TICKER"))
	return "CPTICKER";
else if (Strcmp(RequestContext, "SEDOL"))
	return "CPSEDOL";
else
	return RequestContext;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER"))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "BB_UNIQUE"))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER") && OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else if (Strcmp(RequestContext, "SEDOL"))
	return RequestIdentifier;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "1";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "004";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_HIGH;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "004";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_HIGH;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_LOW, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_LOW, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISS_PRC_ID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute"/>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBUNIQUE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPBBUNIQ";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "1";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "005";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_LOW;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "005";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_LOW;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_LOW, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_LOW, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISPC_MATCH_2";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1)))
	return "IssueIdentifier";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && StrContainsOneOf(RequestContext, "BB_UNIQUE", "TICKER", "SEDOL"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return "CUSIP";
else if (Strcmp(RequestContext, "BB_UNIQUE"))
	return "CPBBUNIQ";
else if (Strcmp(RequestContext, "TICKER"))
	return "CPTICKER";
else if (Strcmp(RequestContext, "SEDOL"))
	return "CPSEDOL";
else
	return RequestContext;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER"))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "BB_UNIQUE"))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER") && OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else if (Strcmp(RequestContext, "SEDOL"))
	return RequestIdentifier;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "1";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "005";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_LOW;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "005";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_LOW;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_LAST, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_LAST, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISS_PRC_ID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute"/>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBUNIQUE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPBBUNIQ";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "1";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "003";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_LAST;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
                <Node name="MKTNME" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "003";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_LAST;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_LAST, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_LAST, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISPC_MATCH_2";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1)))
	return "IssueIdentifier";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && StrContainsOneOf(RequestContext, "BB_UNIQUE", "TICKER", "SEDOL"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return "CUSIP";
else if (Strcmp(RequestContext, "BB_UNIQUE"))
	return "CPBBUNIQ";
else if (Strcmp(RequestContext, "TICKER"))
	return "CPTICKER";
else if (Strcmp(RequestContext, "SEDOL"))
	return "CPSEDOL";
else
	return RequestContext;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER"))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "BB_UNIQUE"))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER") && OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else if (Strcmp(RequestContext, "SEDOL"))
	return RequestIdentifier;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "1";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "003";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_LAST;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "003";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_LAST;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(HIGH_52WEEK, HIGH_DT_52WEEK))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(HIGH_52WEEK, HIGH_DT_52WEEK))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISS_PRC_ID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute"/>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBUNIQUE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPBBUNIQ";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "1";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(HIGH_DT_52WEEK, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "016";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return HIGH_52WEEK;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(HIGH_DT_52WEEK, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "016";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return HIGH_52WEEK;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(HIGH_52WEEK, HIGH_DT_52WEEK))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(HIGH_52WEEK, HIGH_DT_52WEEK))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISPC_MATCH_2";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1)))
	return "IssueIdentifier";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && StrContainsOneOf(RequestContext, "BB_UNIQUE", "TICKER", "SEDOL"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return "CUSIP";
else if (Strcmp(RequestContext, "BB_UNIQUE"))
	return "CPBBUNIQ";
else if (Strcmp(RequestContext, "TICKER"))
	return "CPTICKER";
else if (Strcmp(RequestContext, "SEDOL"))
	return "CPSEDOL";
else
	return RequestContext;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER"))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "BB_UNIQUE"))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER") && OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else if (Strcmp(RequestContext, "SEDOL"))
	return RequestIdentifier;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "1";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(HIGH_DT_52WEEK, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "016";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return HIGH_52WEEK;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(HIGH_DT_52WEEK, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "016";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return HIGH_52WEEK;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(LOW_52WEEK, LOW_DT_52WEEK))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(LOW_52WEEK, LOW_DT_52WEEK))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISS_PRC_ID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute"/>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBUNIQUE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPBBUNIQ";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "1";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LOW_DT_52WEEK, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "017";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return LOW_52WEEK;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LOW_DT_52WEEK, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "017";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return LOW_52WEEK;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(LOW_52WEEK, LOW_DT_52WEEK))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(LOW_52WEEK, LOW_DT_52WEEK))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISPC_MATCH_2";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1)))
	return "IssueIdentifier";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && StrContainsOneOf(RequestContext, "BB_UNIQUE", "TICKER", "SEDOL"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return "CUSIP";
else if (Strcmp(RequestContext, "BB_UNIQUE"))
	return "CPBBUNIQ";
else if (Strcmp(RequestContext, "TICKER"))
	return "CPTICKER";
else if (Strcmp(RequestContext, "SEDOL"))
	return "CPSEDOL";
else
	return RequestContext;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER"))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "BB_UNIQUE"))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER") && OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else if (Strcmp(RequestContext, "SEDOL"))
	return RequestIdentifier;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "1";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LOW_DT_52WEEK, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "017";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return LOW_52WEEK;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LOW_DT_52WEEK, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "017";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return LOW_52WEEK;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_FIXING, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_FIXING, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISS_PRC_ID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute"/>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBUNIQUE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPBBUNIQ";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "251";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "FIXING";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_FIXING;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "251";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "FIXING";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_FIXING;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_FIXING, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_FIXING, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISPC_MATCH_2";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1)))
	return "IssueIdentifier";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && StrContainsOneOf(RequestContext, "BB_UNIQUE", "TICKER", "SEDOL"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return "CUSIP";
else if (Strcmp(RequestContext, "BB_UNIQUE"))
	return "CPBBUNIQ";
else if (Strcmp(RequestContext, "TICKER"))
	return "CPTICKER";
else if (Strcmp(RequestContext, "SEDOL"))
	return "CPSEDOL";
else
	return RequestContext;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER"))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "BB_UNIQUE"))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER") && OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else if (Strcmp(RequestContext, "SEDOL"))
	return RequestIdentifier;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "251";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "FIXING";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_FIXING;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "251";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "FIXING";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_FIXING;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_NASDAQ_CLOSE, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_NASDAQ_CLOSE, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISS_PRC_ID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute"/>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "UW";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBUNIQUE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPBBUNIQ";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="FinancialMarketIdentifier" type="segment">
                    <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "MKT_OID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                    </Node>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                    </Node>
                    <Node name="MKTID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "BBEXCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="MKTNME" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CPGLOBAL";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "245";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CLOSE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_NASDAQ_CLOSE;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "245";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "CLOSE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_NASDAQ_CLOSE;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_NASDAQ_CLOSE, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="ISSUIssuePrice" type="segment">
                <condition><![CDATA[if (AllHaveValue(PX_NASDAQ_CLOSE, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISPC_MATCH_2";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "UW";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1)))
	return "IssueIdentifier";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && StrContainsOneOf(RequestContext, "BB_UNIQUE", "TICKER", "SEDOL"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else if (!FieldPresent(EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return "CUSIP";
else if (Strcmp(RequestContext, "BB_UNIQUE"))
	return "CPBBUNIQ";
else if (Strcmp(RequestContext, "TICKER"))
	return "CPTICKER";
else if (Strcmp(RequestContext, "SEDOL"))
	return "CPSEDOL";
else
	return RequestContext;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER"))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return RequestIdentifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(RequestContext, "BB_UNIQUE"))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER") && OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else if (Strcmp(RequestContext, "SEDOL"))
	return RequestIdentifier;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="ADDNLPRCQUALTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "245";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BB";]]></expr>
                  </Node>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCCURRCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCNGMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "VENDOR";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCQTMETHTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "PRCQUOTE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCSRCETYP" type="element">
                  <Node name="ERR_LVL" type="attribute">
                    <expr><![CDATA[return "NO ERROR";]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BLOOMBRG";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                  </Node>
                </Node>
                <Node name="PRCTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CLOSE";]]></expr>
                  </Node>
                </Node>
                <Node name="PRCVALIDTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UNVERIFD";]]></expr>
                  </Node>
                </Node>
                <Node name="QTLOTSIZECQTY" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                  </Node>
                </Node>
                <Node name="TRDVOLCAMT" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_VOLUME;]]></expr>
                  </Node>
                </Node>
                <Node name="UNITCPRC" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return PX_NASDAQ_CLOSE;]]></expr>
                  </Node>
                </Node>
                <Node name="VENDORPRCCMNTTXT" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISIDOID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UW";]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (!FieldPresent(EQY_PRIM_EXCH_SHRT) && Strcmp(RequestContext, "BB_UNIQUE"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBUNIQUE";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return RequestIdentifier;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return RequestIdentifier;
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "245";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "CLOSE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_NASDAQ_CLOSE;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
          </Then>
        </If>
      </Node>
      <Node messageformat="GSREF" name="STREET_REF" type="message">
        <Options>
          <Option key="OutputEncoding"/>
          <Option key="AddTZIndicators">true</Option>
          <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
          <Option key="DocType">STREET_REF</Option>
        </Options>
        <condition><![CDATA[if (Strcmp("Y", GetRuntimeParameter("PriceData")))
	if (Strcmp(ERRORCODE, "0"))
		return Translate(Config_Options, true, "ISPCMKT2", "STREET_REF");
	else
		return "";
else
	return "";]]></condition>
        <Node name="MESSAGECONDITION" type="attribute">
          <expr><![CDATA[if (Strcmp("Y", GetRuntimeParameter("PriceData")))
	if (Strcmp(ERRORCODE, "0"))
		return Translate(Config_Options, true, "ISPCMKT2", "STREET_REF");
	else
		return "";
else
	return "";]]></expr>
        </Node>
        <Node name="TRACE" type="attribute">
          <expr><![CDATA[return "false";]]></expr>
        </Node>
        <Node name="TRANSACTIONCODE" type="attribute"/>
        <Node name="USERID" type="attribute">
          <expr><![CDATA[return "GUEST";]]></expr>
        </Node>
        <Node name="HEADER" type="element">
          <Node name="CURRENTTIMESTAMP" type="element">
            <expr><![CDATA[return TimeStamp();]]></expr>
          </Node>
          <Node name="DATASOURCE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="LOCALE" type="element">
            <Node name="NLS" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ENU";]]></expr>
              </Node>
            </Node>
            <Node name="TIMEZONE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "GMT Standard Time";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_ID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBUNIQUE";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(SECURITY_TYP))
	return TranslateEIST2ISTY("BB", "", "", SECURITY_TYP);
else
	return "MISC";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_NME" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return NAME;]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_TBL_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ISPC";]]></expr>
            </Node>
          </Node>
          <Node name="MSGCLASSIFICATION" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBEQ620";]]></expr>
            </Node>
          </Node>
          <Node name="MSGTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="REFERRINGPAGE" type="element"/>
          <Node name="USERID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BBEQPX";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="Issue" type="segment">
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "REFERENCE";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute"/>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "Issue";]]></expr>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_ISIN))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ISIN";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_ISIN;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_CUSIP) && !IsAlpha(ID_CUSIP, 1, 1))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "CUSIP";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_CUSIP;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBUNIQUE";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_BB_UNIQUE) && !OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute">
              <expr><![CDATA[return "L";]]></expr>
            </Node>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBUNIQUE";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBGLOBAL";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT) && OneHasValue(COMPOSITE_ID_BB_GLOBAL))
		return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
			"Composite_Exchange"))
		if (OneHasValue(COMPOSITE_EXCH_CODE))
			return "FinancialMarketIdentifier";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return ID_MIC_LOCAL_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange") && (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701"))
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (OneHasValue(EQY_PRIM_EXCH_SHRT))
		return "FinancialMarketIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange", "Local_Exchange"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateLocalOrCompositeListing - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value Composite_Exchange and Local_Exchange used in Config_option.xml")),
			"");
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(If(
		Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Composite_Exchange"),
		If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"), "TTTW",
				If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"), "MBDV", COMPOSITE_EXCH_CODE)),
		If(Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
				"Local_Exchange"),
				If(Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"), "TTTW",
						If(Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"), "MBDV",
								EQY_PRIM_EXCH_SHRT)),
				"")),
		"|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Composite_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
		return "MBDV";
	else
		return COMPOSITE_EXCH_CODE;
else if (Strcmp(Translate(Config_Options, true, "CreateLocalOrCompositeListing", "Bloomberg_DL_End_of_Day_Pricing"),
		"Local_Exchange"))
	if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
		return "TTTW";
	else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
		return "MBDV";
	else
		return EQY_PRIM_EXCH_SHRT;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return ID_MIC_LOCAL_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "CPGLOBAL";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return COMPOSITE_ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
              </Node>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_BB_GLOBAL) && !OneHasValue(EXCH_CODE))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute">
              <expr><![CDATA[return "L";]]></expr>
            </Node>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBGLOBAL";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "TICKER";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return TICKER;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, EQY_PRIM_EXCH_SHRT, TICKER, COMPOSITE_EXCH_CODE))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute"/>
            <Node name="NESTED_ERR_TXT" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBCPTICK";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK"]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (AllHaveValue(ID_BB_UNIQUE, ID_EXCH_SYMBOL, EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBTRDGSYMB";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_EXCH_SYMBOL;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return ID_BB_UNIQUE;]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (AllHaveValue(RequestIdentifier, RequestContext) && Strcmp(RequestContext, "SEDOL"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), Strcat(
				"--",
				"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option."));
	else
		return "";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="IssueIdentifier" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute">
                <expr><![CDATA[return "ISID_OID";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "ISID_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
              </Node>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <comment><![CDATA[For persecurity request with TICKER and EXCH_CODE/Market Sector combination
a seperate ID Context to be used to avoid problems while referring for TICKER
in RISS]]></comment>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "CPSEDOL";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <comment><![CDATA[Ticker will be requested with Exchange code/Market sector and so Request Idetifier
will have the entire info agaianst it whereas only 'TICKER' info is to be mapped]]></comment>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return RequestIdentifier;]]></expr>
                </Node>
              </Node>
              <Node name="ISSUSAGETYP" type="element">
                <comment><![CDATA[For SEDOL and BBUNIQUE only this field is to be mapped]]></comment>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return RequestIdentifier;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute"/>
              <Node name="NESTED_ERR_TXT" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701") && OneHasValue(COMPOSITE_EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute"/>
              <Node name="NESTED_ERR_TXT" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <comment><![CDATA[For persecurity request with TICKER and EXCH_CODE/Market Sector combination
a seperate ID Context to be used to avoid problems while referring for TICKER
in RISS]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "CPSEDOL";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <comment><![CDATA[Ticker will be requested with Exchange code/Market sector and so Request Idetifier
will have the entire info agaianst it whereas only 'TICKER' info is to be mapped]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return RequestIdentifier;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <comment><![CDATA[For SEDOL and BBUNIQUE only this field is to be mapped]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return RequestIdentifier;]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (!(Strcmp(RequestContext, "CUSIP")
		&& (StrContainsOneOf(RequestContext, "BB_UNIQUE", "TICKER") && !IsAlpha(RequestIdentifier, 1, 1))))
	if (AllHaveValue(RequestIdentifier, RequestContext) && !Strcmp(RequestContext, "SEDOL"))
		if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
			return "IssueIdentifier";
		else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
			return "";
		else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
			return ThrowMapError(
					Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
							Strcat("--",
									"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
					"");
		else
			return "";
	else
		return "";
else if (AllHaveValue(RequestIdentifier, RequestContext) && !Strcmp(RequestContext, "SEDOL"))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[if (Strcmp(RequestContext, "BB_UNIQUE"))
	return "ISID6_CTX_ID_MKT_USG";
else if (Strcmp(RequestContext, "ISIN"))
	return "ISID6_CTX_ID_MKT_USG";
else if (Strcmp(RequestContext, "CUSIP"))
	return "ISID6_CTX_ID_MKT_USG";
else if (Strcmp(RequestContext, "TICKER"))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (OneHasValue(COMPOSITE_EXCH_CODE) && OneOf(RequestContext, "BB_UNIQUE", "TICKER"))
		return "FinancialMarketIdentifier";
	else
		return "";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute"/>
              <Node name="NESTED_ERR_TXT" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
		&& OneOf(RequestContext, "BB_UNIQUE", "TICKER"))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute"/>
              <Node name="NESTED_ERR_TXT" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <comment><![CDATA[For persecurity request with TICKER and EXCH_CODE/Market Sector combination
a seperate ID Context to be used to avoid problems while referring for TICKER
in RISS]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return "CUSIP";
else if (Strcmp(RequestContext, "BB_UNIQUE"))
	return "CPBBUNIQ";
else if (Strcmp(RequestContext, "TICKER"))
	return "CPTICKER";
else
	return RequestContext;]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <comment><![CDATA[Ticker will be requested with Exchange code/Market sector and so Request Idetifier
will have the entire info agaianst it whereas only 'TICKER' info is to be mapped
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER"))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return RequestIdentifier;]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <comment><![CDATA[For SEDOL and BBUNIQUE only this field is to be mapped
The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(RequestContext, "BB_UNIQUE"))
	if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred",
			"Cross", "Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index",
			"OTC Option"))
		return RequestIdentifier;
	else
		return "";
else if (Strcmp(RequestContext, "TICKER"))
	if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
		return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
	else
		return "";
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (AllHaveValue(TICKER_AND_EXCH_CODE, ID_BB_UNIQUE)
		&& !Strcmp(TICKER_AND_EXCH_CODE, Strcat(TICKER, Strcat(" ", EXCH_CODE))))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="FinancialMarketIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(EQY_PRIM_EXCH_SHRT))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "MKT_OID";]]></expr>
              </Node>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EQY_PRIM_EXCH_SHRT, "|DATASRCID|BLOOMBERG"));]]></expr>
              </Node>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
              </Node>
              <Node name="MKTID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EQY_PRIM_EXCH_SHRT, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EQY_PRIM_EXCH_SHRT, "MB"))
	return "MBDV";
else
	return EQY_PRIM_EXCH_SHRT;]]></expr>
                </Node>
              </Node>
              <Node name="MKTIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BBEXCH";]]></expr>
                </Node>
              </Node>
              <Node name="MKTNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BB";]]></expr>
              </Node>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "ACTIVE";]]></expr>
              </Node>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBTICKEXH";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(TICKER_AND_EXCH_CODE))
	return TICKER_AND_EXCH_CODE;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (!OneOf(SECURITY_TYP, "Equity Option", "Bond", "Conv Prfd", "Conv Bond", "Bond. Preference", "Preferred", "Cross",
		"Forward", "Other", "Spot", "Equity Index", "Equity Option", "Index Option", "Index", "OTC Option"))
	return ID_BB_UNIQUE;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(ID_ISIN))
	return "IssueIdentifier";
else if (OneHasValue(ID_CUSIP) && !IsAlpha(ID_CUSIP, 1, 1))
	return "IssueIdentifier";
else if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "IssueIdentifier";
else if (AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT))
	return "IssueIdentifier";
else if (AllHaveValue(ID_BB_UNIQUE, EQY_PRIM_EXCH_SHRT, TICKER, COMPOSITE_EXCH_CODE))
	return "IssueIdentifier";
else if (AllHaveValue(RequestIdentifier, RequestContext) && Strcmp(RequestContext, "SEDOL"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (AllHaveValue(RequestIdentifier, RequestContext) && !Strcmp(RequestContext, "SEDOL"))
		if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
			return "IssueIdentifier";
		else if (Strcmp(RequestContext, "BB_UNIQUE"))
			if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
				return "IssueIdentifier";
			else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
				return "";
			else if (Strcmp(RequestContext, "TICKER"))
				if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
					return "IssueIdentifier";
				else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
					return "";
				else
					return "IssueIdentifier";
			else
				return "";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("23|CONCTNS|NESTED|IDCTXTTYP|", Strcat(
		If(OneHasValue(ID_ISIN), "ISIN", If(OneHasValue(ID_CUSIP) && !IsAlpha(ID_CUSIP, 1, 1), "CUSIP", If(AllHaveValue(
				EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE),
				"BBUNIQUE",
				If(AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT), "TICKER", If(
						AllHaveValue(ID_BB_UNIQUE, EQY_PRIM_EXCH_SHRT, TICKER, COMPOSITE_EXCH_CODE), "BBCPTICK",
						If(AllHaveValue(ID_BB_UNIQUE, ID_EXCH_SYMBOL, EQY_PRIM_EXCH_SHRT), "BBTRDGSYMB", If(
								AllHaveValue(RequestIdentifier, RequestContext)
										&& Strcmp(RequestContext, "SEDOL"),
								"CPSEDOL",
								If(AllHaveValue(RequestIdentifier, RequestContext) && !Strcmp(RequestContext, "SEDOL"),
										If(Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1),
												"CUSIP", If(Strcmp(RequestContext, "BB_UNIQUE"), "CPBBUNIQ",
														If(Strcmp(RequestContext, "TICKER"), "CPTICKER",
																RequestContext))),
										If(AllHaveValue(TICKER_AND_EXCH_CODE, ID_BB_UNIQUE)
												&& !Strcmp(TICKER_AND_EXCH_CODE,
														Strcat(TICKER, Strcat(" ", EXCH_CODE))),
												"BBTICKEXH", ""))))))))),
		Strcat("|ISSID|", Strcat(
				If(OneHasValue(ID_ISIN), ID_ISIN, If(OneHasValue(ID_CUSIP) && !IsAlpha(ID_CUSIP, 1, 1), ID_CUSIP, If(
						AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE), ID_BB_UNIQUE,
						If(AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT), TICKER, If(
								AllHaveValue(ID_BB_UNIQUE, EQY_PRIM_EXCH_SHRT, TICKER, COMPOSITE_EXCH_CODE),
								If(AllHaveValue(TICKER, COMPOSITE_EXCH_CODE),
										Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE)),
										""),
								If(AllHaveValue(ID_BB_UNIQUE, ID_EXCH_SYMBOL, EQY_PRIM_EXCH_SHRT), ID_EXCH_SYMBOL,
										If(AllHaveValue(RequestIdentifier, RequestContext)
												&& Strcmp(RequestContext, "SEDOL"),
												RequestIdentifier, If(
														AllHaveValue(RequestIdentifier,
																RequestContext) && !Strcmp(RequestContext, "SEDOL"),
														If(Strcmp(RequestContext, "CUSIP")
																&& !IsAlpha(RequestIdentifier, 1, 1),
																RequestIdentifier,
																If(Strcmp(RequestContext, "TICKER"),
																		Strcat(TICKER,
																				Strcat(" ", COMPOSITE_EXCH_CODE)),
																		RequestIdentifier)),
														If(OneHasValue(TICKER_AND_EXCH_CODE), TICKER_AND_EXCH_CODE,
																""))))))))),
				"|DATASRCID|BB"))));]]></expr>
            </Node>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ERGONOMICSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(ID_ISIN))
	return "ISIN";
else if (OneHasValue(ID_CUSIP) && !IsAlpha(ID_CUSIP, 1, 1))
	return "CUSIP";
else if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return "BBUNIQUE";
else if (AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT))
	return "TICKER";
else if (AllHaveValue(ID_BB_UNIQUE, EQY_PRIM_EXCH_SHRT, TICKER, COMPOSITE_EXCH_CODE))
	return "BBCPTICK";
else if (AllHaveValue(RequestIdentifier, RequestContext) && Strcmp(RequestContext, "SEDOL"))
	return "CPSEDOL";
else if (AllHaveValue(RequestIdentifier, RequestContext) && !Strcmp(RequestContext, "SEDOL"))
	if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
		return "CUSIP";
	else if (Strcmp(RequestContext, "BB_UNIQUE"))
		return "CPBBUNIQ";
	else if (Strcmp(RequestContext, "TICKER"))
		return "CPTICKER";
	else
		return RequestContext;
else if (AllHaveValue(TICKER_AND_EXCH_CODE, ID_BB_UNIQUE)
		&& !Strcmp(TICKER_AND_EXCH_CODE, Strcat(TICKER, Strcat(" ", EXCH_CODE))))
	return "BBTICKEXH";
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRSYMBOLSTATTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISIDOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSID" type="element">
              <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(ID_ISIN))
	return ID_ISIN;
else if (OneHasValue(ID_CUSIP) && !IsAlpha(ID_CUSIP, 1, 1))
	return ID_CUSIP;
else if (AllHaveValue(EQY_PRIM_EXCH_SHRT, ID_BB_UNIQUE))
	return ID_BB_UNIQUE;
else if (AllHaveValue(ID_BB_UNIQUE, TICKER, EQY_PRIM_EXCH_SHRT))
	return TICKER;
else if (AllHaveValue(ID_BB_UNIQUE, EQY_PRIM_EXCH_SHRT, TICKER, COMPOSITE_EXCH_CODE))
	if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
		return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
	else if (OneHasValue(TICKER_AND_EXCH_CODE))
		return TICKER_AND_EXCH_CODE;
	else
		return "";
else if (OneHasValue(RequestIdentifier))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "CUSIP") && !IsAlpha(RequestIdentifier, 1, 1))
	return RequestIdentifier;
else if (Strcmp(RequestContext, "TICKER"))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else if (OneHasValue(TICKER_AND_EXCH_CODE))
	return TICKER_AND_EXCH_CODE;
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="ISSUSAGETYP" type="element">
              <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(RequestContext, "TICKER"))
	if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
		return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
	else
		return "";
else
	return "";]]></expr>
              </Node>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LISTINGSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MKTOID" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MULTISEDOLSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRADERSYMBOLIND" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="TRDNGCURRCDE" type="element">
              <Node name="INSERT_ONLY" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="ISSTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="WHENISSUEDIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(MARKET_STATUS, "WHIS"))
	return "Y";
else
	return SetSendNullFlag("");]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="IssueIdentifier" type="segment">
          <comment><![CDATA[This segment is not recreated like 2 BBunique segments below because there would not be a
scenario where either Ticker or Exch Code are not present when Sec master is set to No.]]></comment>
          <condition><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute">
            <expr><![CDATA[return "FATAL";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute"/>
          <Node name="LOOKUP" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
          </Node>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	if (OneHasValue(COMPOSITE_EXCH_CODE))
		return "FinancialMarketIdentifier";
	else
		return "";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBCOMPEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="FinancialMarketIdentifier" type="segment">
            <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701") && OneHasValue(COMPOSITE_EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "MKT_OID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(COMPOSITE_EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
            </Node>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
            </Node>
            <Node name="MKTID" type="element">
              <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
              </Node>
            </Node>
            <Node name="MKTIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "BBEXCH";]]></expr>
              </Node>
            </Node>
            <Node name="MKTNME" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "BB";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERGONOMICSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <comment><![CDATA[For persecurity request with TICKER and EXCH_CODE/Market Sector combination
a seperate ID Context to be used to avoid problems while referring for TICKER
in RISS]]></comment>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "CPTICKER";]]></expr>
            </Node>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRSYMBOLSTATTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISIDOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSID" type="element">
            <comment><![CDATA[Ticker will be requested with Exchange code/Market sector and so Request Idetifier
will have the entire info agaianst it whereas only 'TICKER' info is to be mapped
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
            </Node>
          </Node>
          <Node name="ISSUSAGETYP" type="element">
            <comment><![CDATA[For SEDOL and BBUNIQUE only this field is to be mapped
The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LISTINGSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTIDCTXTTYP" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTNME" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MKTOID" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTISEDOLSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="TRADERSYMBOLIND" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRDNGCURRCDE" type="element">
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <If>
          <expr><![CDATA[return Strcmp("Y", GetRuntimeParameter("PriceData"));]]></expr>
          <Then>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_BID, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if ((Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701") && OneHasValue(COMPOSITE_EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE) && Strcmp(RequestContext, "TICKER"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "2";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BID";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_BID;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_MID, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE) && Strcmp(RequestContext, "TICKER"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "4";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "MID";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_MID;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_ASK, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE) && Strcmp(RequestContext, "TICKER"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "3";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ASKED";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_ASK;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_ASK, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE) && Strcmp(RequestContext, "TICKER"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "3";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ASKED";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_ASK;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_OPEN, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE) && Strcmp(RequestContext, "TICKER"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "OPEN";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_OPEN;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_HIGH, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE) && Strcmp(RequestContext, "TICKER"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "004";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_HIGH;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_LOW, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE) && Strcmp(RequestContext, "TICKER"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "005";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_LOW;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_LAST, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE) && Strcmp(RequestContext, "TICKER"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "003";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_LAST;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(HIGH_52WEEK, HIGH_DT_52WEEK))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE) && Strcmp(RequestContext, "TICKER"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(HIGH_DT_52WEEK, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "016";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return HIGH_52WEEK;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(LOW_52WEEK, LOW_DT_52WEEK))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE) && Strcmp(RequestContext, "TICKER"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LOW_DT_52WEEK, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "017";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return LOW_52WEEK;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_FIXING, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE) && Strcmp(RequestContext, "TICKER"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "251";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "FIXING";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_FIXING;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="ISSUIssuePrice" type="segment">
              <condition><![CDATA[if (AllHaveValue(PX_NASDAQ_CLOSE, LAST_UPDATE_DT_EXCH_TZ))
	return "ISSUIssuePrice";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "OPTIMISTICINSERT";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PARENT_LINK" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSUIssuePrice";]]></expr>
              </Node>
              <Node name="FinancialMarketIdentifier" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "MKT_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                </Node>
                <Node name="MKTID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "UW";]]></expr>
                  </Node>
                </Node>
                <Node name="MKTIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBEXCH";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(TICKER, COMPOSITE_EXCH_CODE))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(TICKER, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(COMPOSITE_EXCH_CODE) && Strcmp(RequestContext, "TICKER"))
	if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return "IssueIdentifier";
	else if (Strcmp(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "NO"))
		return "";
	else if (!OneOf("NO", Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"), "YES"))
		return ThrowMapError(
				Strcat(Translate(Config_Options, true, "CreateCPIdentifiers", "Bloomberg_Connections"),
						Strcat("--",
								"Wrong value in Config_Option against Bloomberg_Connections. It is other than permitted value YES and NO used in Config_Option.")),
				"");
	else
		return "";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID6_CTX_ID_MKT_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") >= "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBCOMPEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (Translate(Connection_Version, true, "GS_VERSION", "VERSION") < "8701")
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(ID_MIC_LOCAL_EXCH, "XTAI") && Strcmp(COMPOSITE_EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(ID_MIC_LOCAL_EXCH, "XMOL") && Strcmp(COMPOSITE_EXCH_CODE, "MB"))
	return "MBDV";
else
	return COMPOSITE_EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CPTICKER";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <comment><![CDATA[GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <comment><![CDATA[The ISS_USAGE_TYP has been made configurable for CPTICKER.
GT 137574 : Replaced [EXCH_CODE] by [COMPOSITE_EXCH_CODE] for "BBCPTICK" and "CPTICKER"]]></comment>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(Config_Options, true, "CPTICKER", "ISSUSAGETYP")))
	return Strcat(RequestIdentifier, Strcat(" ", COMPOSITE_EXCH_CODE));
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"), "YES"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		return "IssueIdentifier";
	else
		return "";
else if (Strcmp(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"NO"))
	if (AllHaveValue(ID_BB_GLOBAL, EXCH_CODE))
		if (OneHasValue(COMPOSITE_ID_BB_GLOBAL))
			if (!(ID_BB_GLOBAL == COMPOSITE_ID_BB_GLOBAL))
				return "IssueIdentifier";
			else
				return "";
		else
			return "IssueIdentifier";
	else
		return "";
else if (!OneOf(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
		"YES", "NO"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "Record_BBGLOBAL_with_Composite", "Bloomberg_DL_End_of_Day_Pricing"),
					Strcat("--",
							"Wrong value in Config_Option.xml against Record_BBGLOBAL_with_Composite - Bloomberg_DL_End_of_Day_Pricing. It is other than permitted value YES, NO used in Config_option.xml")),
			"");
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "ISID_OID";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[if (OneHasValue(EXCH_CODE))
	return "ISID6_CTX_ID_MKT_USG";
else
	return "ISID_CTXT_ID_USG";]]></expr>
                </Node>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="FinancialMarketIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(EXCH_CODE))
	return "FinancialMarketIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "MKT_OID";]]></expr>
                  </Node>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "MKID1_MKT_CTXT_MKTID";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("3|CONCTNS|NESTED|MKTIDCTXTTYP|BBEXCH|MKTID|", Strcat(EXCH_CODE, "|DATASRCID|BLOOMBERG"));]]></expr>
                  </Node>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinancialMarketIdentifier";]]></expr>
                  </Node>
                  <Node name="MKTID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(EQY_PRIM_EXCH, "Taiwan") && Strcmp(EXCH_CODE, "TT"))
	return "TTTW";
else if (Strcmp(EQY_PRIM_EXCH, "Moldova") && Strcmp(EXCH_CODE, "MB"))
	return "MBDV";
else
	return EXCH_CODE;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "BBEXCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MKTNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return EQY_PRIM_EXCH;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "BBGLOBAL";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSUSAGETYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return ID_BB_GLOBAL;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ADDNLPRCQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "245";]]></expr>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BB";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(CRNCY))
	if (OneHasValue(Translate(BloombergETT, true, "BB_CURRENCY", CRNCY)))
		return Translate(BloombergETT, true, "BB_CURRENCY", CRNCY);
	else
		return CRNCY;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="PRCNGMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="PRCQTMETHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRCQUOTE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCSRCETYP" type="element">
                <Node name="ERR_LVL" type="attribute">
                  <expr><![CDATA[return "NO ERROR";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "BLOOMBRG";]]></expr>
                </Node>
              </Node>
              <Node name="PRCTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(LAST_UPDATE_DT_EXCH_TZ, "YYYYMMDD");]]></expr>
                </Node>
              </Node>
              <Node name="PRCTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "CLOSE";]]></expr>
                </Node>
              </Node>
              <Node name="PRCVALIDTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "UNVERIFD";]]></expr>
                </Node>
              </Node>
              <Node name="QTLOTSIZECQTY" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_QUOTE_LOT_SIZE;]]></expr>
                </Node>
              </Node>
              <Node name="TRDVOLCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_VOLUME;]]></expr>
                </Node>
              </Node>
              <Node name="UNITCPRC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return PX_NASDAQ_CLOSE;]]></expr>
                </Node>
              </Node>
              <Node name="VENDORPRCCMNTTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (!OneHasValue(PRICING_SOURCE))
	return "Pricing Source Not Available";
else if (OneHasValue(PRICING_SOURCE)
		&& OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE_CHECK", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ",
			Translate(BloombergETT, true, "PRICING_SOURCE", Strcat(PRICING_SOURCE, MARKET_SECTOR_DES)));
else if (OneHasValue(PRICING_SOURCE) && OneHasValue(Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE)))
	return Strcat("PRICE SOURCE ", Translate(BloombergETT, true, "PRICING_SOURCE", PRICING_SOURCE));
else
	return PRICING_SOURCE;]]></expr>
                </Node>
              </Node>
              <Node name="ISIDOID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
          </Then>
        </If>
      </Node>
    </OutputDef>
  </Output>
  <Translation>
    <table uri="./../Config_Options.ttl">
      <import name="Config_Options"/>
    </table>
    <table uri="./../Connection_Version.ttl">
      <import name="Connection_Version"/>
    </table>
    <table uri="BloombergETT.ttl">
      <import name="BloombergETT"/>
    </table>
    <table uri="./../P72_Custom.ttl">
      <import name="P72BBGLOBAL"/>
      <import name="SAC_Default_Region"/>
      <import name="SAC_Exchange"/>
    </table>
  </Translation>
  <Expressions>
    <Expression enabled="true" ident="KeyStreaming">
      <expr><![CDATA[if (OneHasValue(ID_ISIN))
	return ID_ISIN;
else if (OneHasValue(ID_BB_UNIQUE))
	return ID_BB_UNIQUE;
else if (OneHasValue(ID_SEDOL1))
	return ID_SEDOL1;
else if (OneHasValue(ID_SEDOL2))
	return ID_SEDOL2;
else
	return "";]]></expr>
    </Expression>
    <Expression enabled="true" ident="RecordIdentifier">
      <expr><![CDATA[if (AllHaveValue(TICKER, EXCH_CODE, MARKET_SECTOR_DES) && !OneHasValue(RequestIdentifier))
	return Strcat(TICKER, Strcat(";", Strcat(EXCH_CODE,
			Strcat(";", Strcat(MARKET_SECTOR_DES, Strcat(";", Strcat(ERRORCODE, Strcat(";", "PX"))))))));
else if (OneHasValue(EXCH_CODE))
	return Strcat(RequestIdentifier, Strcat(";", Strcat(EXCH_CODE,
			Strcat(";", Strcat(MARKET_SECTOR_DES, Strcat(";", Strcat(ERRORCODE, Strcat(";", "PX"))))))));
else
	return Strcat(SECURITIES, Strcat(";", Strcat(ERRORCODE, Strcat(";", "PX"))));]]></expr>
    </Expression>
    <Expression enabled="false" ident="GSDMFiltering">
      <expr><![CDATA[return "";]]></expr>
    </Expression>
    <Expression enabled="false" ident="VDSFiltering">
      <expr><![CDATA[return "";]]></expr>
    </Expression>
  </Expressions>
</MappingDef>
